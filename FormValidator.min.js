(function(){var e,t=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};null==Array.prototype.unique&&(Array.prototype.unique=function(){var e,r,n,i;for(i=[],r=0,n=this.length;n>r;r++)e=this[r],t.call(i,e)<0&&i.push(e);return i}),null==$.fn.attrAll&&($.fn.attrAll=function(e,t,r){var n;return null==t&&(t=" "),null==r&&(r=!0),n=[],this.each(function(t,r){return n.push($(r).attr(e)),!0}),r&&(n=n.unique()),n.join(t)}),e={error_messages:{de:{email:"'{{value}}' ist keine gültige E-Mail-Adresse",email_at:"Eine E-Mail-Adresse muss ein @-Zeichen enthalten",email_many_at:"Eine E-Mail-Adresse darf höchstens ein @-Zeichen enthalten",email_dot:"'{{value}}' hat keine korrekte Endung (z.B. '.de')",integer:"'{{value}}' ist keine Zahl",integer_float:"'{{value}}' ist keine ganze Zahl",positive_integer:"'{{value}}' ist keine positive ganze Zahl",negative_integer:"'{{value}}' ist keine negative ganze Zahl",number:"'{{value}}' ist keine Zahl",number_max:"'{{value}}' ist nicht kleiner als {{max}}",number_min:"'{{value}}' ist nicht größer als {{min}}",number_max_min:"'{{value}}' liegt nicht zwischen {{min}} und {{max}}",number_max_included:"'{{value}}' ist nicht kleiner oder gleich {{max}}",number_min_included:"'{{value}}' ist nicht größer oder gleich {{min}}",number_max_included_min:"'{{value}}' ist nicht größer als {{min}} und kleiner oder gleich {{max}}",number_max_min_included:"'{{value}}' ist nicht größer oder gleich {{min}} und kleiner als {{max}}",number_max_included_min_included:"'{{value}}' ist nicht größer oder gleich {{min}} und kleiner oder gleich {{max}}",phone_length:"'{{value}}' ist weniger als {{length}} Zeichen lang",phone:"'{{value}}' ist keine gültige Telefonnummer",radio:"Die {{index_of_type}}. Auswahlbox wurde nicht ausgewählt",checkbox:"Die {{index_of_type}}. Checkbox wurde nicht ausgewählt",select:"Das {{index_of_type}}. Auswahlmenü wurde nicht ausgewählt",dependency:"Dieses Feld kann erst ausgefüllt werden, nachdem andere Felder korrekt ausgefüllt wurden",text:function(e){return null!=e.name?"Bitte füllen Sie das Feld '"+e.name+"' aus":e.previous_name?"Bitte füllen Sie das Feld nach '"+e.previous_name+"' aus":"Bitte füllen Sie das "+e.index_of_type+". Textfeld aus"}},en:{email:"'{{value}}' is no valid e-mail address",integer:"'{{value}}' is no valid integer",positive_integer:"'{{value}}' is no positive integer",negative_integer:"'{{value}}' is no negative integer",number:"'{{value}}' is no valid number",positive_number:"'{{value}}' is no positive number",negative_number:"'{{value}}' is no negative number",phone:"'{{value}}' is no valid phone number",radio:"The {{index_of_type}}. radio button was not selected",checkbox:"The {{index_of_type}}. checkbox was not checked",select:"Nothing was selected in the {{index_of_type}}. drop-down menu",dependency:"This field can only be filled in after filling in other fields",text:function(e){return null!=e.name?"Please fill in the field '"+e.name+"'":e.previous_name?"Please fill in the field after '"+e.previous_name+"'":"Please fill in the "+e.index_of_type+". text field"}}}},window.FormValidator=function(){function t(e,t){var r;null==t&&(t={}),r=this.constructor,e instanceof jQuery?this.form=e:null!=e&&(this.form=$(e)),this.fields=null,this.error_classes=t.error_classes||this.form.attr("data-fv-error-classes")||"",this.dependency_error_classes=t.dependency_error_classes||this.form.attr("data-fv-dependency-error-classes")||this.error_classes,this.validators=$.extend({},r.validators,t.validators),this.validation_options=t.validation_options||null,this.error_messages=t.error_messages,this.error_mode=null!=r.ERROR_MODES[t.error_mode]?t.error_mode:r.ERROR_MODES.DEFAULT,this.error_output_mode=null!=r.ERROR_OUTPUT_MODES[t.error_output_mode]?t.error_output_mode:r.ERROR_OUTPUT_MODES.DEFAULT,this.locale=t.locale||"en",this.error_target_getter=t.error_target_getter||null,this.field_getter=t.field_getter||null,this.required_field_getter=t.required_field_getter||null,this.optional_field_getter=t.optional_field_getter||null,this.create_dependency_error_message=t.create_dependency_error_message||null,this.preprocessors=$.extend(r.default_preprocessors,t.preprocessors||{}),this.postprocessors=t.postprocessors||{},this.group=t.group||null}return t.validators={email:function(e,t){var r;return e.indexOf("@")<0?{error_message_type:"email_at"}:(r=e.split("@"),r.length>2?{error_message_type:"email_many_at"}:2===r.length&&""!==r[0]&&""!==r[1]?e.indexOf(".",e.indexOf("@"))<0||"."===e[e.length-1]?{error_message_type:"email_dot"}:!0:{error_message_type:"email"})},integer:function(e,t,r,n,i,s){var a,l;return l=this._number(e,t,r,n,i,s),l.valid===!0?l._number===Math.floor(l._number)?!0:{error_message_type:"integer_float"}:(e=l._string,a=Math.floor(l._number),isNaN(a)||!isFinite(a)||e!==""+a?{error_message_type:"integer"}:(l.error_message_type=l.error_message_type.replace("number_","integer_"),l))},number:function(e,t,r,n,i,s){var a;return a=this._number(e,t,r,n,i,s),a.valid===!0?!0:a},_number:function(e,t,r,n,i,s){var a,l,o,u,_,d,p,c;if(null==i&&(i=!0),null==s&&(s=!0),e=e.replace(/\s/g,""),"+"===e[0]&&(e=e.slice(1)),"."===e[0]?e="0"+e:"-"===e[0]&&"."===e[1]&&(e="-0."+e.slice(2)),e.indexOf(".")>=0){for(;"0"===e[e.length-1];)e=e.slice(0,-1);"."===e[e.length-1]&&(e=e.slice(0,-1))}return d=parseFloat(e),isNaN(d)||!isFinite(d)||e!==""+d?{error_message_type:"number",_number:d,_string:e}:(o=parseFloat(t.attr("data-fv-max")),isNaN(o)||(n=o,a=t.attr("data-fv-include-max"),null!=a&&(s="false"===a.toLowerCase()?!1:!0)),u=parseFloat(t.attr("data-fv-min")),isNaN(u)||(r=u,l=t.attr("data-fv-include-min"),null!=l&&(i="false"===l.toLowerCase()?!1:!0)),_="number",c=!0,null!=n&&s&&d>n?(_+="_max_included",c=!1):null!=n&&!s&&d>=n&&(_+="_max",c=!1),null!=r&&i&&r>d?(_+="_min_included",c=!1):null!=r&&!i&&r>=d&&(_="_min",c=!1),c?{valid:!0,_number:d,_string:e}:(p={error_message_type:_,_number:d,_string:e},null!=n&&(p.max=n),null!=r&&(p.min=r),p))},phone:function(e,t){if(e.length<3)return{error_message_type:"phone_length",length:3};for(e=e.replace(/[\s+\+\-\/\(\)]/g,"");"0"===e[0];)e=e.slice(1);return e!==""+parseInt(e,10)?{error_message_type:"phone"}:!0},text:function(e,t){return e.length>0},radio:function(e,t){return $("[name='"+t.attr("name")+"']:checked").length>0},checkbox:function(e,t){return t.prop("checked")===!0},select:function(e,t){return this.text(t.val())}},t.get_error_message_type=function(e,t){var r;if(t===this.ERROR_MODES.SIMPLE)switch(r=e.split("_")[0]){case"integer":return"integer";case"number":return"number"}return e},t.default_preprocessors={number:function(e,t,r){return"de"===r?e.replace(/\./g,"").replace(/\,/g,"."):"en"===r?e.replace(/\,/g,""):e},integer:function(e,t,r){return"de"===r?e.replace(/\./g,"").replace(/\,/g,"."):"en"===r?e.replace(/\,/g,""):e}},t.error_messages=e.error_messages,t.ERROR_MODES={NORMAL:"NORMAL",SIMPLE:"SIMPLE"},t.ERROR_MODES.DEFAULT=t.ERROR_MODES.NORMAL,t.ERROR_OUTPUT_MODES={BELOW:"BELOW",BOOTSTRAP_POPOVER:"BOOTSTRAP_POPOVER",BOOTSTRAP_POPOVER_ON_FOCUS:"BOOTSTRAP_POPOVER_ON_FOCUS",NONE:"NONE"},t.ERROR_OUTPUT_MODES.DEFAULT=t.ERROR_OUTPUT_MODES.NONE,$(document).on("click","[data-fv-start!='']",function(){var e,r,n;return e=$(this),r=e.closest(e.attr("data-fv-start")),1===r.length&&(null==(n=r.data("_form_validator"))&&(n=new t(r),r.data("_form_validator",n)),n.validate()),!0}),$(document).on("change click keyup","[data-fv-real-time] [data-fv-validate]",function(e){var r,n,i,s;return r=$(this),"click"!==e.type&&"change"!==e.type||r.filter("textarea, input[type='text'], input[type='number'], input[type='date'], input[type='month'], input[type='week'], input[type='time'], input[type='datetime'], input[type='datetime-local'], input[type='email'], input[type='search'], input[type='url']").length!==r.length?(n=r.closest("[data-fv-real-time]"),1===n.length&&(null==(s=n.data("_form_validator"))&&(s=new t(n),n.data("_form_validator",s)),i=s.validate(),i.length>0&&r.focus()),!0):!0}),t["new"]=function(e,t){return new this(e,t)},t.prototype._update=function(){var e;return e=this._get_fields(this.form),this.fields={all:e,required:this._get_required(e),optional:this._get_optional(e)},this},t.prototype._create_error_message=function(e,t){var r,n,i,s,a,l;if(r=this.constructor,a=t.error_message_type||t.element.attr("data-fv-validate"),a=r.get_error_message_type(a,this.error_mode),i=(this.error_messages||this.constructor.error_messages)[this.locale][a],null==i)return null;if("string"==typeof i){for(n in t)l=t[n],i.indexOf("{{"+n+"}}")>=0&&(i=i.replace("{{"+n+"}}",l));s=i}else i instanceof Function&&(s=i(t));return s},t.prototype._get_fields=function(e){return("function"==typeof this.field_getter?this.field_getter(e):void 0)||e.find("[data-fv-validate]").filter(function(e,t){return 0===$(t).closest("[data-fv-ignore-children]").length})},t.prototype._get_required=function(e){var t,r;return null!=this.required_field_getter?"function"==typeof this.required_field_getter?this.required_field_getter(e):void 0:null!=this.optional_field_getter?(r=$(),t=this.optional_field_getter(e),e.each(function(e,n){var i;return i=$(n),-1===t.index(i)?r=r.add(i):void 0}),r):e.not("[data-fv-optional='true']")},t.prototype._get_optional=function(e){return("function"==typeof this.optional_field_getter?this.optional_field_getter(e):void 0)||e.filter("[data-fv-optional='true']")},t.prototype._get_value=function(e,t){var r,n;return r=!0,n=e.val(),null==n&&(r=!1,n=e.text()),null!=this.preprocessors[t]&&"false"!==e.attr("data-fv-preprocess")&&(n=this.preprocessors[t].call(this.preprocessors,n,e,this.locale)),{usedValFunc:r,value:n}},t.prototype._find_target=function(e){var t;return t=this.form.find("[data-fv-name='"+e+"']"),0===t.length&&(t=this.form.find(e)),0===t.length&&(t=$(e)),t},t.prototype._apply_error_styles=function(e,t,r){var n,i,s,a,l,o;if(null!=t)for("string"==typeof t&&(t=t.split(/\s+/g)),o=[],s=0,a=t.length;a>s;s++)i=t[s],l="self"!==i?this._find_target(i):e,o.push(l),null!=(n=l.attr("data-fv-error-classes"))?r===!1?l.addClass(n):l.removeClass(n):r===!1?l.addClass(this.error_classes):l.removeClass(this.error_classes);return o},t.prototype._apply_dependency_error_styles=function(e,t){var r,n,i,s;if(null!=e)for(n=0,i=e.length;i>n;n++)s=e[n],null!=(r=s.attr("data-fv-dependency-error-classes"))?t===!1?s.addClass(r):s.removeClass(r):t===!1?s.addClass(this.dependency_error_classes):s.removeClass(this.dependency_error_classes);return this},t.prototype._group=function(e){var t,r,n;return t={},e.each(function(e,r){var n,i;return n=$(r),i=n.attr("data-fv-group")||n.attr("name"),null==t[i]?t[i]=[n]:t[i].push(n),!0}),function(){var e;e=[];for(n in t)r=t[n],e.push(r);return e}()},t.prototype.set_error_target_getter=function(e){return this.error_target_getter=e,this},t.prototype.set_field_getter=function(e){return this.field_getter=e,this},t.prototype.set_required_field_getter=function(e){return this.required_field_getter=e,this},t.prototype.set_optional_field_getter=function(e){return this.optional_field_getter=e,this},t.prototype.register_validator=function(e,t,r){return this.validators[e]=t,this},t.prototype.deregister_validator=function(e){return delete this.validators[e],this},t.prototype.register_preprocessor=function(e,t){return this.preprocessors[e]=t,this},t.prototype.deregister_preprocessor=function(e){return delete this.preprocessors,this},t.prototype.register_postprocessor=function(e,t){return this.postprocessors[e]=t,this},t.prototype.deregister_postprocessor=function(e){return delete this.postprocessors[e],this},t.prototype.validate=function(e){var t,r,n,i,s,a,l,o,u,_,d,p,c,h,f,g,m,v,y,O,x,b,E,R,k,T,w,P,S,M,F,A,N,D,q,U,L,C;for(null==e&&(e=this.validation_options||{apply_error_styles:!0,all:!1}),null==this.fields&&this._update(),t=this.constructor,A=!0,c=[],w=null,v={},D=!1,q=function(e){return function(t,r){var n,i,s,a,l;return i=_.attr("data-fv-validate"),n=e._get_value(t,i),l=n.value,D=n.usedValFunc,a=e.validators[i],s=a.call(e.validators,l,_),s===!1?s={error_message_type:i}:"string"==typeof s&&(s={error_message_type:s}),null!=r&&(r.type=i,r.usedValFunc=D,r.validator=a,r.value=l),s}}(this),F=this.fields.required,h=this.fields.all,f=null,g=E=1,P=h.length;P>=1?P>=E:E>=P;g=P>=1?++E:--E)if(_=$(h[g-1]),O=F.index(_)>=0,y={},U=q(_,y),x=U===!0,N=y.type,D=y.usedValFunc,L=y.validator,C=y.value,r=null,null!=v[N]?m=++v[N]:(v[N]=1,m=1),e.all!==!1||O||0!==C.length&&"radio"!==N&&"checkbox"!==N){if(T=_.attr("data-fv-name"),u=_.attr("data-fv-depends-on"),l=[],a=[],null!=u)for(n=u.split(/\s+/g),b=R=0,k=n.length;k>R;b=++R)i=n[b],s=this._find_target(i),a.push(s),y={},o=q(s,y),o!==!0&&l.push($.extend(o,{element:s,index:b,type:y.type,value:y.value}));!x||l.length>0?(A=!1,l.length>0&&(c.push({element:_,message:("function"==typeof this.create_dependency_error_message?this.create_dependency_error_message(this.locale,l):void 0)||this._create_error_message(this.locale,{element:_,error_message_type:"dependency"}),required:O,type:"dependency"}),x=!1),x||(d=$.extend(U,{element:_,index:g,index_of_type:m,name:T,previous_name:w,value:C}),r={element:_,message:this._create_error_message(this.locale,d),required:O,type:N,validator:L,value:C},c.push(r)),null==f&&(f=_)):"false"!==_.attr("data-fv-postprocess")?(C=null!=(S=this.postprocessors[N])?S.call(this.postprocessors,C,_,this.locale):void 0,D?_.val(C):_.text(C)):"true"===_.attr("data-fv-output-preprocessed")&&(C=null!=(M=this.preprocessors[N])?M.call(this.preprocessors,C,_,this.locale):void 0,D?_.val(C):_.text(C)),w=T,e.apply_error_styles===!0&&(p=this._apply_error_styles(_,("function"==typeof this.error_target_getter?this.error_target_getter(N,_,g):void 0)||_.attr("data-fv-error-targets")||_.closest("[data-fv-error-targets]").attr("data-fv-error-targets"),x),null!=r&&(r.error_targets=p),this._apply_dependency_error_styles(a,x))}else this._apply_error_styles(_,("function"==typeof this.error_target_getter?this.error_target_getter(N,_,g):void 0)||_.attr("data-fv-error-targets")||_.closest("[data-fv-error-targets]").attr("data-fv-error-targets"),!0);return null!=f&&f.focus(),c},t.prototype.get_progress=function(e){var t,r,n,i,s,a,l,o,u,_,d,p,c,h,f,g,m,v,y,O;for(null==e&&(e=!1),null==this.fields&&this._update(),a=this.fields.all,y=this.fields.required,u=("function"==typeof this.group?this.group(a):void 0)||this._group(a),O=u.length,r=0,s=this.validate({apply_error_styles:!1,all:!0}),_=d=0,c=u.length;c>d;_=++d){for(o=u[_],t=!0,p=0,h=o.length;h>p;p++)if(n=o[p],n=$(n),y.index(n)>=0){t=!1;break}for(l=!1,m=0,f=o.length;f>m;m++){for(n=o[m],n=$(n),v=0,g=s.length;g>v;v++)if(i=s[v],i.element.is(n)){l=!0;break}if(l)break}l||r++}return e?r/O:{count:r,total:O}},t}()}).call(this);