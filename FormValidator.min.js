(function(){var e,t,r,n,s,i,a,o,l,_,u,c,d,f,p,h,g,m,v,x,y,E,b,N,O,R,S,T,A,D,w,C,L,k,I,U,P,q=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},M=[].slice;null==Array.prototype.unique&&(Array.prototype.unique=function(){var e,t,r,n;for(n=[],t=0,r=this.length;r>t;t++)e=this[t],q.call(n,e)<0&&n.push(e);return n}),null==$.fn.attrAll&&($.fn.attrAll=function(e,t,r){var n;return null==t&&(t=" "),null==r&&(r=!0),n=[],this.each(function(t,r){return n.push($(r).attr(e)),!0}),r&&(n=n.unique()),n.join(t)}),y=function(e){var t,r;return t=function(e,n){var s,i,a,o,l;for(null==n&&(n=[]),l=[],i=a=0,o=e.length;o>=0?o>a:a>o;i=o>=0?++a:--a)s=e.splice(i,1),0===e.length&&r.push(n.concat(s)),t(e.slice(),n.concat(s)),l.push(e.splice(i,0,s[0]));return l},r=[],t(e),r},E=function(e,t){var r,n,s,i,a,o,l;for(l=[],i=e.length,a=function(){var e,n,s;for(s=[],r=e=0,n=t;n>=0?n>e:e>n;r=n>=0?++e:--e)s.push(r);return s}();;){if(l.push(function(){var t,r,s;for(s=[],t=0,r=a.length;r>t;t++)n=a[t],s.push(e[n]);return s}()),a[0]===i-t)break;for(r=t-1;r>=0&&a[r]+t-r===i;)r--;for(o=a[r],a[r]++,s=2,r++;t>r;)a[r]=o+s,r++,s++}return l},b=function(e,t){var r,n,s,i,a;for(n={},i=0,a=e.length;a>i;i++)r=e[i],null==(s="function"==typeof t?t(r):void 0)&&(s=r),null==n[s]&&(n[s]=[]),n[s].push(r);return n},U=function(e){var t,r,n,s,i,a,o,l;for(e=A(e),t=[],function(){var r,n;n=[];for(r in e)0===e[r].cnt?(delete e[r],n.push(t.push(r))):n.push(void 0);return n}(),l=[],function(){var t,r,n;n=[];for(r in e)n.push(function(){var n;n=[];for(t in e[r].v)null==l[t]&&(l[t]=[]),n.push(l[t].push(r));return n}());return n}(),o=[];t.length>0;)for(r=t.pop(),o.push(r),a=l[r]||[],n=0,s=a.length;s>n;n++)i=a[n],I(e[i],r),0===e[i].cnt&&(t.push(i),delete e[i]);for(r in e)throw new Error("FormValidator::validate: Detected cyclical dependencies. Adjust your dependency definitions");return o},A=function(e){var t,r,n,s,i,a,o,l,_;l={},s=L();for(i in e)for(_=e[i],l[i]=L(),r=_.split(" "),a=0,o=r.length;o>a;a++)t=r[a],""!==t&&(t!==i&&k(l[i],t),k(s,t));for(n in s.v)n in l||(l[n]=L());return l},L=function(){return{cnt:0,v:{}}},k=function(e,t){return e.v[t]||(e.cnt+=1,e.v[t]=!0),e},I=function(e,t){return e.v[t]&&(e.cnt-=1,delete e.v[t]),e},s={NORMAL:"NORMAL",SIMPLE:"SIMPLE"},s.DEFAULT=s.NORMAL,i={BELOW:"BELOW",TOOLTIP:"TOOLTIP",POPOVER:"POPOVER",NONE:"NONE"},i.DEFAULT=i.NONE,u={DEPENDENCIES:"DEPENDENCIES",VALUE:"VALUE",CONSTRAINTS:"CONSTRAINTS"},c={DEPENDENCIES:"DEPENDENCY",VALUE:"VALUE",CONSTRAINTS:"CONSTRAINT"},e={ENUMERATE:"ENUMERATE",SENTENCE:"SENTENCE",LIST:"LIST"},e.DEFAULT=e.ENUMERATE,n={PHASE_ORDER:[u.DEPENDENCIES,u.VALUE,u.CONSTRAINTS],BUILD_MODE:e.DEFAULT},_=["depends_on","id","name","preprocess","required","type"],l=["dependency_mode","error_classes","success_classes","dependency_error_classes","error_targets","group","output_preprocessed","postprocess","constraints","errors","valid_constraints","valid_dependencies","valid_value","value"],r={PREPROCESS:!0,POSTPROCESS:!1,REQUIRED:!0,OUTPUT_PREPROCESSED:!0,DEPENDENCY_MODE:"all",ERROR_TARGETS:"",INCLUDE_MAX:"true",INCLUDE_MIN:"true"},a={ERROR_MODES:s,ERROR_OUTPUT_MODES:i,VALIDATION_PHASES:u,BUILD_MODES:e,ERROR_MESSAGE_CONFIG:n},t={max:["include_max"],max_length:["enforce_max_length"],min:["include_min"],min_length:["enforce_min_length"],regex:["regex_flags"]},P={_number:function(e,t){var r;if(e=e.replace(/\s/g,""),"+"===e[0]&&(e=e.slice(1)),"."===e[0]?e="0"+e:"-"===e[0]&&"."===e[1]&&(e="-0."+e.slice(2)),e.indexOf(".")>=0){for(;"0"===e[e.length-1];)e=e.slice(0,-1);"."===e[e.length-1]&&(e=e.slice(0,-1))}return r=parseFloat(e),isNaN(r)||!isFinite(r)||e!==""+r?{error_message_type:"number",_number:r,_string:e}:{valid:!0,_number:r,_string:e}},_text:function(e,t){return e.length>0},email:function(e,t){var r;return e.indexOf("@")<0?{error_message_type:"email_at"}:(r=e.split("@"),r.length>2?{error_message_type:"email_many_at"}:2===r.length&&""!==r[0]&&""!==r[1]?e.indexOf(".",e.indexOf("@"))<0||"."===e[e.length-1]?{error_message_type:"email_dot"}:!0:{error_message_type:"email"})},integer:function(e,t){var r,n;return n=this._number(e,t),n.valid===!0?n._number===Math.floor(n._number)?!0:{error_message_type:"integer_float"}:(e=n._string,r=Math.floor(n._number),isNaN(r)||!isFinite(r)||e!==""+r?{error_message_type:"integer"}:(n.error_message_type=n.error_message_type.replace("number_","integer_"),n))},number:function(e,t){var r;return r=this._number(e,t),r.valid===!0?!0:r},phone:function(e,t){for(e=e.replace(/[\s+\+\-\/\(\)]/g,"");"0"===e[0];)e=e.slice(1);return e!==""+parseInt(e,10)?{error_message_type:"phone"}:!0},text:function(e,t){return e.length>0},radio:function(e,t){return $("[name='"+t.attr("name")+"']:checked").length>0},checkbox:function(e,t){return t.prop("checked")===!0},select:function(e,t){return this.text(t.val())}},h={blacklist:function(e,t){var r,n,s;for(n=0,s=e.length;s>n;n++)if(r=e[n],t.indexOf(r)>=0)return!1;return!0},max:function(e,t,r){return"false"===(null!=r?r.include_max:void 0)?t>e:t>=e},max_length:function(e,t){return e.length<=t},min:function(e,t,r){return"false"===(null!=r?r.include_min:void 0)?e>t:e>=t},min_length:function(e,t){return e.length>=t},regex:function(e,t,r){return new RegExp(t,r.flags).test(e)},whitelist:function(e,t){var r,n,s;for(n=0,s=t.length;s>n;n++)if(r=t[n],e.indexOf(r)<0)return!1;return!0}},f=[],p={include_max:!0,include_min:!0},N=function(e,t,r){return null!=t?!p[e]instanceof Function?""+p[e]==""+t:""+p[e](r)==""+t:!1},S={de:{and:"und",gt:"größer als",gte:"größer als oder gleich",lt:"kleiner als",lte:"kleiner als oder gleich"},en:{and:"and",gt:"greater than",gte:"greater than or equal to",lt:"less than",lte:"less than or equal to"}},$.extend(S.de,{dependency_general:"Die Abhängigkeiten dieses Felds müssen zuerst korrekt ausgefüllt wurden",dependency_prefix:"Die Felder",dependency_suffix:"müssen noch korrekt ausgefüllt werden",dependency_singular_prefix:"Das Feld",dependency_singular_suffix:"muss noch korrekt ausgefüllt werden",value_email:"'{{value}}' muss die Form 'meine.adresse@anbieter.endung' haben",value_email_at:"'{{value}}' muss ein @-Zeichen enthalten",value_email_many_at:"'{{value}}' darf höchstens ein @-Zeichen enthalten",value_email_dot:"'{{value}}' muss eine korrekte Endung haben (z.B. '.de')",value_integer:"'{{value}}' muss eine Zahl sein",value_integer_float:"'{{value}}' darf keine Kommazahl sein",value_number:"'{{value}}' muss eine Zahl sein",value_phone:"'{{value}}' darf nur aus Zahlen, Leerzeichen und den Zeichen '+-/()' bestehen",value_radio:"Eins der Optionsfelder muss ausgewählt werden",value_checkbox:"Das Kontrollkästchen muss ausgewählt werden",value_select:"Es muss eine andere Option ausgewählt werden",value_text:"Das Textfeld muss ausgefüllt werden",constraint_enumerate_prefix:"'{{value}}'",constraint_list_prefix:"'{{value}}'",constraint_sentence_prefix:"'{{value}}'",constraint_blacklist_prefix:"darf",constraint_blacklist:"keines der Zeichen '{{blacklist}}'",constraint_blacklist_suffix:"enthalten",constraint_whitelist_prefix:"muss",constraint_whitelist:"jedes der Zeichen '{{whitelist}}'",constraint_whitelist_suffix:"enthalten",constraint_max_prefix:"darf",constraint_max:"nicht größer als oder gleich {{max}}",constraint_max_suffix:"sein",constraint_max_include_max_prefix:"darf",constraint_max_include_max:"nicht größer als {{max}}",constraint_max_include_max_suffix:"sein",constraint_max_length_prefix:"darf",constraint_max_length:"nicht länger als {{max_length}} Zeichen",constraint_max_length_suffix:"sein",constraint_min_prefix:"darf",constraint_min:"nicht kleiner als oder gleich {{min}}",constraint_min_suffix:"sein",constraint_min_include_min_prefix:"darf",constraint_min_include_min:"nicht kleiner als {{min}}",constraint_min_include_min_suffix:"sein",constraint_min_length_prefix:"darf",constraint_min_length:"nicht kürzer als {{min_length}} Zeichen",constraint_min_length_suffix:"sein",constraint_regex_prefix:"muss",constraint_regex:"dem regulären Ausdruck '{{regex}}'",constraint_regex_suffix:"entsprechen"}),$.extend(S.en,{dependency_general:"This field's dependencies must be correctly filled in first",dependency_prefix:"The fields",dependency_suffix:"must be filled in correctly",dependency_singular_prefix:"The field",dependency_singular_suffix:"must be filled in correctly",value_email:"'{{value}}' address must be of the form 'my.address@provider.ending'",value_email_at:"'{{value}}' address must contain an @ symbol",value_email_many_at:"'{{value}}' address can only have one @ symbol",value_email_dot:"'{{value}}' must have a correct ending (i.e. '.com')",value_integer:"'{{value}}' must be an integer",value_integer_float:"'{{value}}' must not be decimal",value_number:"'{{value}}' must be a number",value_phone:"'{{value}}' can only contain numbers, spaces, and the characters '+-/()'",value_radio:"One of the radio buttons must be selected",value_checkbox:"The checkbox must be selected",value_select:"Another option must be selected",value_text:"Please fill in this text field",constraint_enumerate_prefix:"'{{value}}'",constraint_list_prefix:"'{{value}}'",constraint_sentence_prefix:"'{{value}}'",constraint_blacklist_prefix:"must not",constraint_blacklist:"contain any of the characters '{{blacklist}}'",constraint_blacklist_suffix:"",constraint_whitelist_prefix:"must",constraint_whitelist:"contain all of the characters '{{whitelist}}'",constraint_whitelist_suffix:"",constraint_max_prefix:"must not",constraint_max:"be greater than or equal to {{max}}",constraint_max_suffix:"",constraint_max_include_max_prefix:"must not",constraint_max_include_max:"be greater than {{max}}",constraint_max_include_max_suffix:"",constraint_max_length_prefix:"must not",constraint_max_length:"be longer than {{max_length}} characters",constraint_max_length_suffix:"",constraint_min_prefix:"must not",constraint_min:"be less than or equal to {{min}}",constraint_min_suffix:"",constraint_min_include_min_prefix:"must not",constraint_min_include_min:"be less than {{min}}",constraint_min_include_min_suffix:"",constraint_min_length_prefix:"must not",constraint_min_length:"be shorter than {{min_length}} characters",constraint_min_length_suffix:"",constraint_regex_prefix:"must",constraint_regex:"match the regular expression '{{regex}}'",constraint_regex_suffix:""}),R={de:{},en:{}},R.de[e.ENUMERATE]=null,R.de[e.SENTENCE]=null,R.de[e.LIST]=null,R.en[e.ENUMERATE]=null,R.en[e.SENTENCE]=null,R.en[e.LIST]=null,d={},d[e.ENUMERATE]=function(e,t,r,n,s){var i,a,o,l,_,u,c,d,f,p,h;if(e.length>1){a=S[t],l=[],c=b(e,function(e){return e.suffix});for(p in c){h=c[p],u=b(h,function(e){return e.prefix});for(d in u)f=u[d],i=f[0],i.message=i.prefix+" "+i.message;o=h[h.length-1],o.message=o.message+" "+o.suffix,l=l.concat(h)}return e=l,(function(){var t,r,n,s;for(n=e.slice(0,-1),s=[],t=0,r=n.length;r>t;t++)_=n[t],s.push(_.message);return s}().join(", ")+" "+a.and+" "+e[e.length-1].message).replace(/\s+/g," ")}return(e[0].prefix+" "+e[0].message+" "+e[0].suffix).replace(/\s+/g," ")},d[e.SENTENCE]=function(e,t,r,n,s){var i,a,o,l,_,u,d;for(r=c[r].toLowerCase(),u=S[t][(r+"_"+n+"_prefix").toLowerCase()]||"",d=S[t][(r+"_"+n+"_suffix").toLowerCase()]||"",i=u&&!(u instanceof Function)&&"{"!==u[0],u=D(u,s),d=D(d,s),a=o=0,l=e.length;l>o;a=++o)_=e[a],_=(u+" "+_.prefix+" "+_.message+" "+_.suffix+" "+d).trim(),i?e[a]=""+_[0].toUpperCase()+_.slice(1):e[a]=_;return e.join(". ").replace(/\s+/g," ")+"."},d[e.LIST]=function(e,t,r,n,s){var i;return"<ul><li>"+function(){var t,r,n;for(n=[],t=0,r=e.length;r>t;t++)i=e[t],n.push(i.message);return n}().join("</li><li>")+"</li></ul>"},g=function(e,t,r,n,s,i,a,o,l,_){var u,c,f;return null==l&&(l=" "),null==_&&(_=" "),a=a||S[n][e+"_prefix"]||"",o=o||S[n][e+"_suffix"]||"",c=s instanceof Array?("function"==typeof(u=R[n])[r]?u[r](s,n,t,r):void 0)||d[r](s,n,t,r,i):s,f=[],a&&(a instanceof Function&&(a=a()),f.push(a,l)),f.push(c),o&&f.push(_,o),f},m=function(e,t,r,n,s,i,a,o,l,_){return null==l&&(l=" "),null==_&&(_=" "),g(e,t,r,n,s,i,a,o,l,_).join("")},C=function(e,t,r,n,s,i,a,o,l,_){return null==l&&(l=" "),null==_&&(_=" "),s=g(e,t,r,n,s,i,a,o,l,_),s.length>1?s.slice(1).join(""):s.join("")},O=function(e,t,r,n,s,i,a,o,l,_){null==l&&(l=" "),null==_&&(_=" ")},T={enumerate:m,sentence:C,list:O},D=function(){var e,t,r,n;if(t=arguments[0],n=2<=arguments.length?M.call(arguments,1):[],n=1===n.length?n[0]:$.extend.apply($,n),"string"==typeof t){for(e in n)r=n[e],t.indexOf("{{"+e+"}}")>=0&&(t=t.replace("{{"+e+"}}",r));return t}return t instanceof Function?t(n):""},v={},v[u.DEPENDENCIES]=function(t,r,n,s){var i,a,o,l,_;return l=function(){var e,r,n;for(n=[],e=0,r=t.length;r>e;e++)i=t[e],null!=i.name&&n.push(i.name);return n}(),l.length===t.length?(n===e.SENTENCE&&(n=e.ENUMERATE),_=function(){var e,t,r;for(r=[],e=0,t=l.length;t>e;e++)o=l[e],r.push({message:"'"+o+"'",prefix:"",suffix:""});return r}(),a=c[r].toLowerCase(),1===_.length&&(a+="_singular"),T[n.toLowerCase()](a,r,n,s,_)):S[s][c[r].toLowerCase()+"_general"]},v[u.VALUE]=function(t,r,n,s){var i,a,o;return i=t[0],a=c[r].toLowerCase()+"_"+(i.error_message_type||i.type),o={message:D(S[s][a],i),prefix:"",suffix:""},T[n.toLowerCase()](a,r,e.ENUMERATE,s,[o])},v[u.CONSTRAINTS]=function(e,t,r,n){var s,i,a,o,l,_,u,d,p,h,g,m,v,y,E,b,O,R,A,w,C,L,k,I,U,P,F,V,j;for(C=[],u=[],V=[],m=0,v=e.length;v>m;m++){for(a=e[m],l=!1,d=R=0,y=f.length;y>R;d=++R)_=f[d],U=a.type,q.call(_,U)>=0&&(l=!0,null!=u[d]?u[d].push(a):u[d]=[a]);l||V.push(a)}for(A=0,E=V.length;E>A;A++)a=V[A],u.push([a]);for(L=c[t].toLowerCase(),h=L+"_",s=S[n][(t+"_"+r+"_prefix").toLowerCase()]||"",i=S[n][(t+"_"+r+"_suffix").toLowerCase()]||"",I=0,b=u.length;b>I;I++)if(e=u[I],null!=e){for(g=[],F=0,O=e.length;O>F;F++)if(a=e[F],g.push(a.type),null!=a.options){P=a.options;for(w in P)j=P[w],N(w,j,n)&&g.push(w)}p=x(g,n,h),null!=p&&C.push({message:D.apply(null,[S[n][p]].concat(M.call(e))),prefix:D(S[n][p+"_prefix"],a)||s,suffix:D(S[n][p+"_suffix"],a)||i})}return p=L+"_"+r.toLowerCase(),k=D(""+S[n][p+"_prefix"],e[0]),o=$.extend.apply($,[{}].concat(e)),T[r.toLowerCase()](p,t,r,n,C,o,k)},w={},x=function(e,t,r,n){var s,i,a,o,l,_,u,c,d,f,p,h,g;if(null==r&&(r=""),null==n&&(n=""),e=e.slice(0),e.sort(),s=e.join("_"),null!=w[s])return w[s];for(i=o=f=e.length;o>0;i=o+=-1)for(p=E(e,i),u=0,l=p.length;l>u;u++)for(g=p[u],h=y(g),c=0,_=h.length;_>c;c++)if(d=h[c],a=r+d.join("_")+n,null!=S[t][a])return w[s]=a,a;return null},o=function(){function e(e,t){this.form_validator=e,null!=i[t.error_output_mode]||t.error_output_mode instanceof Function?this.error_output_mode=t.error_output_mode:this.error_output_mode=i.DEFAULT}return e.prototype._apply_classes=function(e,t,r,n){var s,i,a,o,l;if(null!=t){for(l=this.form_validator._find_targets(t,e),s=i=0,a=l.length;a>i;s=++i)o=l[s],o instanceof jQuery||(o=l.eq(s)),n===!1?o.addClass(r):o.removeClass(r);return l}return[]},e.prototype._set_message_below=function(e,t,r){var n;return null==(n=t.data("_fv_error_container"))&&("radio"===r.type&&(t=$("input[name='"+t.attr("name")+"']").last()),0===(n=t.next(".fv-error-message")).length&&(n=$('<div class="fv-error-message" />'),t.after(n)),t.data("_fv_error_container",n)),n.html(e),this},e.prototype._set_message_tooltip=function(e,t,r){return null==t.data("_fv_tooltip")&&t.tooltip({html:!0,placement:t.attr("data-placement")||"top",title:function(){return $(this).data("_fv_tooltip")}}),t.data("_fv_tooltip",e).tooltip("hide"),this},e.prototype._set_message_popover=function(e,t,r){return"checkbox"===r.type||"radio"===r.type||"select"===r.type?(t.attr("title",e),this):(null==t.data("_fv_popover")&&t.popover({html:!0,placement:t.attr("data-placement")||"right",content:function(){return $(this).data("_fv_popover")},trigger:"manual"}).focus(function(){return t.popover("show"),!1}).blur(function(){return t.popover("hide"),!0}).click(function(){return document.activeElement===this&&t.popover("toggle"),!0}),t.data("_fv_popover",e).popover("hide"),this)},e.prototype._process_error_message=function(e,t,r){var n,s;return this.error_output_mode===i.NONE?this:(this.error_output_mode instanceof Function?(s=this.error_output_mode(t,r,e),s.html(e)):(n=this.error_output_mode.toLowerCase(),this["_set_message_"+n](e,t,r)),this)},e.prototype.modify=function(e,t){var r,n,s,i,a,o,l,_,c,d,f,p,h,g,m,v,x,y,E;for(l=this.form_validator,o=l.fields.all,a=l.error_output_mode,c=f=0,x=o.length;x>=0?x>f:f>x;c=x>=0?++f:--f){for(n=o.eq(c),r=l._get_element_data(n),_=null,g=0,p=e.length;p>g;g++)if(s=e[g],s.element.is(n)){_=s;break}if(null==_)d=!0,E=!0,m="";else{for(d=!1,E=!0,y=_.errors,v=0,h=y.length;h>v;v++)if(i=y[v],i.phase===u.DEPENDENCIES){E=!1;break}m=_.message}t.apply_error_classes===!0&&(this._apply_classes(n,r.error_targets,r.error_classes||l.error_classes,d),this._apply_classes(n,r.error_targets,r.success_classes||l.success_classes,!d),this._apply_classes(n,r.depends_on,r.dependency_error_classes||l.dependency_error_classes,E)),this._process_error_message(m,n,r)}return this},e}(),window.FormValidator=function(){function n(t,r){var n;null==r&&(r={}),n=this.constructor,this.form=t,this.fields=null,this.form_modifier=new o(this,r),this.error_classes=r.error_classes||this.form.attr("data-fv-error-classes")||"fv-invalid",this.success_classes=r.success_classes||this.form.attr("data-fv-success-classes")||"fv-valid",this.dependency_error_classes=r.dependency_error_classes||this.form.attr("data-fv-dependency-error-classes")||"fv-invalid-dependency",this.validators=$.extend({},n.validators,r.validators),this.validation_options=r.validation_options||null,this.constraint_validators=$.extend({},n.constraint_validators,r.constraint_validators),this.build_mode=r.build_mode||e.DEFAULT,this.error_mode=null!=n.ERROR_MODES[r.error_mode]?r.error_mode:n.ERROR_MODES.DEFAULT,this.locale=r.locale||"en",this.error_target_getter=r.error_target_getter||null,this.field_getter=r.field_getter||null,this.required_field_getter=r.required_field_getter||null,this.create_dependency_error_message=r.create_dependency_error_message||null,this.preprocessors=$.extend(n.default_preprocessors,r.preprocessors||{}),this.postprocessors=r.postprocessors||{},this.group=r.group||null,this.process_errors=r.process_errors||null}var s,i;for(i in a)s=a[i],n[i]=s;return n.constraint_validators=h,n.validators=P,n.locales=S,n.error_message_builders=v,n.default_preprocessors={number:function(e,t,r){switch(r){case"de":return e.replace(/\,/g,".");default:return e}},integer:function(e,t,r){switch(r){case"de":return e.replace(/\,/g,".");default:return e}}},n.configure=function(e){return e({constraint_validator_groups:f,constraint_validator_options_in_locale_key:p,constraint_validator_options:constraint_validator_options,error_message_builders:v,locale_build_mode_helpers:R}),this},n.get_error_message_type=function(e,t){var r;return t===this.ERROR_MODES.SIMPLE?r=e.split("_")[0]:e},n._build_error_message=function(e,t,r,n){return this.error_message_builders[e](t,e,r,n)},n.get_error_message_for_element=function(e,t,r,n,s){var i,a,o,l,_,c,d;null==s&&(s=" "),a=[],o={};for(c in u)o[c]=function(){var e,r,n;for(n=[],e=0,r=t.length;r>e;e++)i=t[e],i.phase===c&&n.push(i);return n}();for(d=this.ERROR_MESSAGE_CONFIG.PHASE_ORDER,l=0,_=d.length;_>l;l++)c=d[l],o[c].length>0&&a.push(this._build_error_message(c,o[c],r,n));return a.join(s)},$(document).on("click","[data-fv-start]",function(){var e,t,r,s,i,a,o;if(e=$(this),null==(t=e.data("_form_validator_container"))&&(t=e.closest(e.attr("data-fv-start")),0===t.length&&(t=$(e.attr("data-fv-start"))),e.data("_form_validator_container",t)),null==(a=t.data("_form_validator"))){if(o=e.attr("data-fv-start-options"),null!=o)try{o=JSON.parse(o)}catch(s){r=s;try{o=window[o]()}catch(i){r=i,o={}}}a=n["new"](t,o),t.data("_form_validator",a)}return a.validate(),!1}),$(document).on("change keyup","[data-fv-real-time] [data-fv-validate]",function(e){var t,r,s,i,a,o;return t=$(this),o=(null!=(a=t.attr("type"))?a.toLowerCase():void 0)||"",i=1===t.filter("textarea").length||t.filter("input").length&&("button"===o||"checkbox"===o||"color"===o||"file"===o||"image"===o||"radio"===o||"range"===o||"submit"===o),"change"===e.type&&i?!0:(r=t.closest("[data-fv-real-time]"),1===r.length&&(null==(s=r.data("_form_validator"))&&(s=n["new"](r),r.data("_form_validator",s)),s.validate({focus_invalid:!1})),!1)}),n["new"]=function(e,t){return new this(e,t)},n.prototype._get_attribute_value_for_key=function(e,t){var n,s,i,a,o,l,_,u;return o="data-fv-",_={type:"validate",required:"optional"},s=["preprocess","required"],n=null==_[t]?o+t.replace(/\_/g,"-"):o+_[t],u=e.attr(n),i=null!=u,i?u=u.trim():(l=a=t.toUpperCase(),q.call(Object.keys(r),l)>=0&&(u=r[a])),q.call(s,t)>=0&&(u="true"===u||u===!0),"required"===t&&i&&(u=!u),u},n.prototype._set_element_data=function(e,t){return $.data(e[0],"_fv",t),this},n.prototype._get_element_data=function(e){return $.data(e[0],"_fv")},n.prototype._cache_attribute=function(e,t,r,n){return null==n?n=e.attr("data-fv-"+r.replace(/\_/g,"-")):n instanceof Function&&(n=n.call(this)),t[r]=n,t},n.prototype._get_fields=function(e){return("function"==typeof this.field_getter?this.field_getter(e):void 0)||e.find("[data-fv-validate]").filter(function(e,t){return 0===$(t).closest("[data-fv-ignore-children]").length})},n.prototype._get_required=function(e){return("function"==typeof this.required_field_getter?this.required_field_getter(e):void 0)||e.not("[data-fv-optional='true']")},n.prototype._get_value_info=function(e,t){var r,n,s,i,a,o;return s=t.type,n=t.preprocess,i=!0,a=e.val(),null==a&&(i=!1,a=e.text()),r=a,o=r!==t.value,t.value=r,null!=this.preprocessors[s]&&n!==!1&&(a=this.preprocessors[s].call(this.preprocessors,a,e,this.locale)),{usedValFunc:i,value:a,original_value:r,value_has_changed:o}},n.prototype._find_targets=function(e,t,r){var n;return null==r&&(r=/\s+/g),"string"==typeof e?function(){var s,i,a,o;for(a=e.split(r),o=[],s=0,i=a.length;i>s;s++)n=a[s],o.push(this._find_target(n,t));return o}.call(this):e||[]},n.prototype._find_target=function(e,t){var r;return"self"===e?t:(r=this.form.find("[data-fv-name='"+e+"']"),0===r.length&&(r=t.closest(e)),0===r.length&&(r=this.form.find(e)),0===r.length&&(r=$(e)),r)},n.prototype._get_error_targets=function(e,t){return("function"==typeof this.error_target_getter?this.error_target_getter(e,t):void 0)||e.attr("data-fv-error-targets")||e.closest("[data-fv-error-targets]").attr("data-fv-error-targets")||r.ERROR_TARGETS},n.prototype._group=function(e){var t,r,n,s,a,o,l,_;for(r={},o=l=0,_=e.length;_>=0?_>l:l>_;o=_>=0?++l:--l)n=e.eq(o),t=this._get_element_data(n),null==t.group&&(t.group=n.attr("data-fv-group")||t.name,this._set_element_data(n,t)),a=t.group,null==r[a]?r[a]=[n]:r[a].push(n);return function(){var e;e=[];for(i in r)s=r[i],e.push(s);return e}()},n.prototype._group_errors=function(e,t){var r,n,s,i,a,o,l,_,u,c;for(r=this.constructor,c=[],a=this.fields.all,o=l=0,u=a.length;u>=0?u>l:l>u;o=u>=0?++l:--l)n=a.eq(o),s=function(){var t,r,s;for(s=[],r=0,t=e.length;t>r;r++)i=e[r],i.element.is(n)&&s.push(i);return s}(),s.length>0&&(_=t.messages===!0?r.get_error_message_for_element(n,s,this.build_mode,this.locale):"",c.push({element:n,errors:s,message:_}));return c},n.prototype._validate_value=function(e,t,r){var n,s,i,a;if(n=t.type,a=r.value,i=this.validators[n],null==i)throw new Error("FormValidator::_validate_value: No validator found for type '"+n+"'. Make sure the type is correct or define a validator!");return s=i.call(this.validators,a,e),s===!1?s={error_message_type:n}:"string"==typeof s&&(s={error_message_type:s}),s!==!0&&(s.error_message_type=this.constructor.get_error_message_type(s.error_message_type,this.error_mode)),s},n.prototype._validate_dependencies=function(e,t,n){var s,i,a,o,l,_,u,c,d;for(l=[],o=t.depends_on,_=u=0,c=o.length;c>u;_=++u)i=o[_],s=this._get_element_data(i),a=this._validate_element(i,s,this._get_value_info(i,s),n),a.length>0&&l.push({dependency_element:i,element:e,index:_,type:s.type,name:s.name});return null==t.dependency_mode&&(t.dependency_mode=e.attr("data-fv-dependency-mode")||r.DEPENDENCY_MODE,this._set_element_data(e,t)),d="any"===t.dependency_mode?l.length<o.length:0===l.length,{dependency_errors:l,dependency_elements:o,valid_dependencies:d,dependency_mode:t.dependency_mode}},n.prototype._validate_constraints=function(e,n,s){var i,a,o,l,_,u,c,d,f,p,h,g,m,v,x,y;if(y={},null!=n.constraints)c=n.constraints;else{i=this.constructor,c=[],v=this.constraint_validators;for(o in v)if(l=v[o],null!=(u=e.attr("data-fv-"+o.replace(/\_/g,"-")))){if(null!=(_=t[o]))for(m={},d=0,f=_.length;f>d;d++)g=_[d],m[g]=e.attr("data-fv-"+g.replace(/\_/g,"-"))||r[g.toUpperCase()];else m=null;c.push({name:o,options:m,validator:l,value:u})}n.constraints=c,this._set_element_data(e,n)}for(h=0,p=c.length;p>h;h++)a=c[h],a.validator.call(this.constraint_validators,s,a.value,a.options)===!0?y[a.name]=!0:(x={},x.options=a.options,x[a.name]=a.value,y[a.name]=x);return y},n.prototype._validate_element=function(e,t,r,n){var s,i,a,o,l,_,c,d,f,p,h,g,m,v,x,y,E,b,N,O,R,S,T,A,D,w,C;if(c=[],x=!0,d=t.required,S=t.type,w=r.value,m=r.original_value,C=r.value_has_changed,T=r.usedValFunc,v=u.DEPENDENCIES,y=this._validate_dependencies(e,t,n),o=y.dependency_errors,i=y.dependency_elements,l=y.dependency_mode,A=y.valid_dependencies,A)t.valid_dependencies=!0,t.errors[v]=[];else{for(x=!1,t.valid_dependencies=!1,f=0,p=o.length;p>f;f++)a=o[f],$.extend(a,{element:e,required:d,type:"dependency",phase:v,mode:l});t.errors[v]=o}if(c=c.concat(t.errors[v]),v=u.VALUE,C?!x&&n.stop_on_error||(D=this._validate_value(e,t,r),D!==!0?(x=!1,t.valid_value=!1,t.errors[v]=[{element:e,error_message_type:D.error_message_type,phase:v,required:d,type:S,value:w}]):(t.valid_value=!0,t.errors[v]=[])):!x&&n.stop_on_error||t.valid_value!==!0&&(x=!1),c=c.concat(t.errors[v]),v=u.CONSTRAINTS,C){if(x||!n.stop_on_error){t.valid_constraints=!0,R=[],E=this._validate_constraints(e,t,w);for(s in E)O=E[s],O!==!0&&(t.valid_constraints=!1,x=!1,R.push($.extend(O,{element:e,required:d,type:s,phase:v,value:w})));t.errors[v]=R}}else!x&&n.stop_on_error||t.valid_constraints!==!0&&(x=!1);if(c=c.concat(t.errors[v]),t.valid_dependencies&&t.valid_value&&t.valid_constraints){if(t.valid===!0&&null!=t.postprocess&&null!=t.output_preprocessed||(t.valid=!0,this._cache_attribute(e,t,"postprocess"),this._cache_attribute(e,t,"output_preprocessed"),this._set_element_data(e,t)),t.postprocess===!0||t.output_preprocessed===!0)for(t.postprocess===!0?w=null!=(b=this.postprocessors[S])?b.call(this.postprocessors,w,e,this.locale):void 0:t.output_preprocessed===!0&&(w=null!=(N=this.preprocessors[S])?N.call(this.preprocessors,w,e,this.locale):void 0),T?e.val(w):e.text(w),g=0,h=c.length;h>g;g++)_=c[g],_.value=w}else t.valid!==!1&&(t.valid=!1,this._set_element_data(e,t));return n.apply_error_classes===!0&&null==t.error_targets&&(this._cache_attribute(e,t,"error_targets",function(){return this._get_error_targets(e,S)}),this._set_element_data(e,t)),c},n.prototype.register_validator=function(e,t,r){return this.validators[e]=t,this},n.prototype.deregister_validator=function(e){return delete this.validators[e],this},n.prototype.register_preprocessor=function(e,t){return this.preprocessors[e]=t,this},n.prototype.deregister_preprocessor=function(e){return delete this.preprocessors,this},n.prototype.register_postprocessor=function(e,t){return this.postprocessors[e]=t,this},n.prototype.deregister_postprocessor=function(e){return delete this.postprocessors[e],this},n.prototype.cache=function(){var e,t,r,n,s,i,a,o,c,d,f;for(r=this._get_fields(this.form),this.fields={all:r,required:this._get_required(r)},n=i=0,f=r.length;f>=0?f>i:i>f;n=f>=0?++i:--i){for(t=r.eq(n),e={},c=0,a=_.length;a>c;c++)s=_[c],e[s]=this._get_attribute_value_for_key(t,s);for(e.depends_on=this._find_targets(e.depends_on,t,/^\s*\;\s*$/g),e.id=n,d=0,o=l.length;o>d;d++)s=l[d],e[s]=null;e.errors={},e.errors[u.DEPENDENCIES]=[],e.errors[u.VALUE]=[],e.errors[u.CONSTRAINTS]=[],this._set_element_data(t,e)}return this},n.prototype.validate=function(e){var t,r,n,s,a,o,l,_,u,c,d,f,p,h,g,m,v,x,y,E,b,N,O,R,S,T,A,D,w,C,L;for(null==e&&(e={}),n={all:!1,apply_error_classes:!0,focus_invalid:!0,messages:!0,stop_on_error:!0,recache:!1},e=$.extend(n,this.validation_options,e),null!=this.fields&&e.recache!==!0||this.cache(),t=this.constructor,c=[],D=!1,T=this.fields.required,d=this.fields.all,f=null,o={},m={},h=x=0,R=d.length;R>=0?R>x:x>R;h=R>=0?++x:--x){for(_=d.eq(h),r=this._get_element_data(_),m[r.id]=_,l=[],S=r.depends_on,b=0,y=S.length;y>b;b++)s=S[b],a=this._get_element_data(s),l.push(a.id);o[r.id]=l.join(" ")}for(d=function(){var e,t,r,n;for(r=U(o),n=[],t=0,e=r.length;e>t;t++)g=r[t],n.push(m[g]);return n}(),N=0,E=d.length;E>N;N++)_=d[N],r=this._get_element_data(_),v=r.required,A=r.type,i=r.name,L=this._get_value_info(_,r),w=L.value,O=L.original_value,C=L.value_has_changed,D=L.usedValFunc,e.all!==!1||v||0!==w.length&&"radio"!==A&&"checkbox"!==A?(u=this._validate_element(_,r,L,e),u.length>0&&(null==f&&(f=_),c=c.concat(u))):(null==r.error_targets&&(r=this._cache_attribute(_,r,"error_targets",function(){return this._get_error_targets(_,A)}),this._set_element_data(_,r)),this._apply_error_classes(_,r.error_targets,!0),this._apply_dependency_error_classes(_,r.depends_on,!0));return e.focus_invalid===!0&&null!=f&&f.focus(),p=this._group_errors(c,e),"function"==typeof this.process_errors&&this.process_errors(p),this.form_modifier.modify(p,e),p},n.prototype.get_progress=function(e){var t,r,n,s,i,a,o,l,_,u,c,d,f,p,h,g,m,v,x,y;for(null==e&&(e={as_percentage:!1,recache:!1}),null!=this.fields&&e.recache!==!0||this.cache(),a=this.fields.all,x=this.fields.required,_=("function"==typeof this.group?this.group(a):void 0)||this._group(a),y=_.length,r=0,i=this.validate({apply_error_classes:!1,all:!0}),u=c=0,d=_.length;d>c;u=++c){for(l=_[u],t=!0,g=0,f=l.length;f>g;g++)if(n=l[g],n=$(n),x.index(n)>=0){t=!1;break}for(o=!1,m=0,p=l.length;p>m;m++){for(n=l[m],n=$(n),v=0,h=i.length;h>v;v++)if(s=i[v],s.element.is(n)){o=!0;break}if(o)break}o||r++}return e.as_percentage?r/y:{count:r,total:y}},n}()}).call(this);