!function(e){var t,r,n,i,a,o,s,l,_,u,c,d,f,p,h,g,m,v,x,y,E,N,b,O,T,A,S,D,w,R,k,C,L,I,P,U,F,q,M,j,V,G=function(e,t){function r(){this.constructor=e}for(var n in t)B.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},B={}.hasOwnProperty,Z=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},Y=[].slice;A=function(e){var t,r;return t=function(e,n){var i,a,o,s,l;for(null==n&&(n=[]),l=[],a=o=0,s=e.length;s>=0?s>o:o>s;a=s>=0?++o:--o)i=e.splice(a,1),0===e.length&&r.push(n.concat(i)),t(e.slice(),n.concat(i)),l.push(e.splice(a,0,i[0]));return l},r=[],t(e),r},S=function(e,t){var r,n,i,a,o,s,l;for(l=[],a=e.length,o=function(){var e,n,i;for(i=[],r=e=0,n=t;n>=0?n>e:e>n;r=n>=0?++e:--e)i.push(r);return i}();;){if(l.push(function(){var t,r,i;for(i=[],t=0,r=o.length;r>t;t++)n=o[t],i.push(e[n]);return i}()),o[0]===a-t)break;for(r=t-1;r>=0&&o[r]+t-r===a;)r--;for(s=o[r],o[r]++,i=2,r++;t>r;)o[r]=s+i,r++,i++}return l},D=function(e,t){var r,n,i,a,o;for(n={},a=0,o=e.length;o>a;a++)r=e[a],null==(i="function"==typeof t?t(r):void 0)&&(i=r),null==n[i]&&(n[i]=[]),n[i].push(r);return n},j=function(e){var t,r,n,i,a,o,s,l;for(e=P(e),t=[],function(){var r,n;n=[];for(r in e)0===e[r].cnt?(delete e[r],n.push(t.push(r))):n.push(void 0);return n}(),l=[],function(){var t,r,n;n=[];for(r in e)n.push(function(){var n;n=[];for(t in e[r].v)null==l[t]&&(l[t]=[]),n.push(l[t].push(r));return n}());return n}(),s=[];t.length>0;)for(r=t.pop(),s.push(r),o=l[r]||[],n=0,i=o.length;i>n;n++)a=o[n],M(e[a],r),0===e[a].cnt&&(t.push(a),delete e[a]);for(r in e)throw new Error("FormValidator::validate: Detected cyclical dependencies. Adjust your dependency definitions");return s},P=function(e){var t,r,n,i,a,o,s,l,_;l={},i=F();for(a in e)for(_=e[a],l[a]=F(),r=_,o=0,s=r.length;s>o;o++)t=r[o],""!==t&&(t!==a&&q(l[a],t),q(i,t));for(n in i.v)n in l||(l[n]=F());return l},F=function(){return{cnt:0,v:{}}},q=function(e,t){return e.v[t]||(e.cnt+=1,e.v[t]=!0),e},M=function(e,t){return e.v[t]&&(e.cnt-=1,delete e.v[t]),e},y={},T=function(e,t,r,n){var i,a,o,s,l,_,u,c,d,f,p,h,g;if(null==r&&(r=""),null==n&&(n=""),e=e.slice(0),e.sort(),i=e.join("_"),null!=y[i])return y[i];for(a=s=f=e.length;s>0;a=s+=-1)for(p=S(e,a),u=0,l=p.length;l>u;u++)for(g=p[u],h=A(g),c=0,_=h.length;_>c;c++)if(d=h[c],o=r+d.join("_")+n,null!=k[t][o])return y[i]=o,o;return null},s={NORMAL:"NORMAL",SIMPLE:"SIMPLE"},s.DEFAULT=s.NORMAL,l={BELOW:"BELOW",NONE:"NONE",POPOVER:"POPOVER",TOOLTIP:"TOOLTIP"},l.DEFAULT=l.NONE,i={DISPLAY:"DISPLAY",ENABLE:"ENABLE",FADE:"FADE",NONE:"NONE",OPACITY:"OPACITY",SHOW:"SHOW",SLIDE:"SLIDE"},i.DEFAULT=i.NONE,a=400,v={DEPENDENCIES:"DEPENDENCIES",VALUE:"VALUE",CONSTRAINTS:"CONSTRAINTS"},x={DEPENDENCIES:"DEPENDENCY",VALUE:"VALUE",CONSTRAINTS:"CONSTRAINT"},t={ENUMERATE:"ENUMERATE",LIST:"LIST",SENTENCE:"SENTENCE"},t.DEFAULT=t.ENUMERATE,o={PHASE_ORDER:[v.DEPENDENCIES,v.VALUE,v.CONSTRAINTS],BUILD_MODE:t.DEFAULT},g={PERCENTAGE:"PERCENTAGE",ABSOLUTE:"ABSOLUTE"},g.DEFAULT=g.PERCENTAGE,m=["dependency_change_action","depends_on","id","name","preprocess","required","type"],p=["dependency_mode","error_classes","success_classes","dependency_error_classes","error_targets","group","output_preprocessed","postprocess","constraints","errors","valid_constraints","valid_dependencies","valid_value","value"],n={PREPROCESS:!0,POSTPROCESS:!1,REQUIRED:!0,OUTPUT_PREPROCESSED:!0,DEPENDENCY_MODE:"all",ERROR_TARGETS:"",INCLUDE_MAX:"true",INCLUDE_MIN:"true"},r={max:["include_max"],max_length:["enforce_max_length"],min:["include_min"],min_length:["enforce_min_length"],regex:["regex_flags"]},_={ERROR_MODES:s,ERROR_OUTPUT_MODES:l,DEPENDENCY_CHANGE_ACTIONS:i,VALIDATION_PHASES:v,BUILD_MODES:t,ERROR_MESSAGE_CONFIG:o,PROGRESS_MODES:g},V={_number:function(e,t){var r;if(e=e.replace(/\s/g,""),"+"===e[0]&&(e=e.slice(1)),"."===e[0]?e="0"+e:"-"===e[0]&&"."===e[1]&&(e="-0."+e.slice(2)),e.indexOf(".")>=0){for(;"0"===e[e.length-1];)e=e.slice(0,-1);"."===e[e.length-1]&&(e=e.slice(0,-1))}return r=parseFloat(e),isNaN(r)||!isFinite(r)||e!==""+r?{error_message_type:"number",_number:r,_string:e}:{valid:!0,_number:r,_string:e}},_text:function(e,t){return e.length>0},email:function(e,t){var r;return e.indexOf("@")<0?{error_message_type:"email_at"}:(r=e.split("@"),r.length>2?{error_message_type:"email_many_at"}:2===r.length&&""!==r[0]&&""!==r[1]?e.indexOf(".",e.indexOf("@"))<0||"."===e[e.length-1]?{error_message_type:"email_dot"}:!0:{error_message_type:"email"})},integer:function(e,t){var r,n;return n=this._number(e,t),n.valid===!0?n._number===Math.floor(n._number)?!0:{error_message_type:"integer_float"}:(e=n._string,r=Math.floor(n._number),isNaN(r)||!isFinite(r)||e!==""+r?{error_message_type:"integer"}:(n.error_message_type=n.error_message_type.replace("number_","integer_"),n))},number:function(e,t){var r;return r=this._number(e,t),r.valid===!0?!0:r},phone:function(e,t){for(e=e.replace(/[\s+\+\-\/\(\)]/g,"");"0"===e[0];)e=e.slice(1);return e!==""+parseInt(e,10)?{error_message_type:"phone"}:!0},text:function(e,t){return e.length>0},radio:function(t,r){return e("[name='"+r.attr("name")+"']:checked").length>0},checkbox:function(e,t){return t.prop("checked")===!0},select:function(e,t){return this.text(t.val())}},b={blacklist:function(e,t){var r,n,i;for(n=0,i=e.length;i>n;n++)if(r=e[n],t.indexOf(r)>=0)return!1;return!0},max:function(e,t,r){return"false"===(null!=r?r.include_max:void 0)?t>e:t>=e},max_length:function(e,t){return e.length<=t},min:function(e,t,r){return"false"===(null!=r?r.include_min:void 0)?e>t:e>=t},min_length:function(e,t){return e.length>=t},regex:function(e,t,r){return new RegExp(t,r.flags).test(e)},whitelist:function(e,t){var r,n,i;for(n=0,i=t.length;i>n;n++)if(r=t[n],e.indexOf(r)<0)return!1;return!0}},E=[],N={include_max:!0,include_min:!0,enforce_max_length:!0,enforce_min_length:!0},w=function(e,t,r){return null!=t?N[e]instanceof Function?""+N[e](r)==""+t:""+N[e]==""+t:!1},k={de:{and:"und",gt:"größer als",gte:"größer als oder gleich",lt:"kleiner als",lte:"kleiner als oder gleich"},en:{and:"and",gt:"greater than",gte:"greater than or equal to",lt:"less than",lte:"less than or equal to"}},e.extend(k.de,{dependency_general:"Die Abhängigkeiten dieses Felds müssen zuerst korrekt ausgefüllt wurden",dependency_prefix:"Die Felder",dependency_suffix:"müssen noch korrekt ausgefüllt werden",dependency_singular_prefix:"Das Feld",dependency_singular_suffix:"muss noch korrekt ausgefüllt werden",value_email:"'{{value}}' muss die Form 'meine.adresse@anbieter.endung' haben",value_email_at:"'{{value}}' muss ein @-Zeichen enthalten",value_email_many_at:"'{{value}}' darf höchstens ein @-Zeichen enthalten",value_email_dot:"'{{value}}' muss eine korrekte Endung haben (z.B. '.de')",value_integer:"'{{value}}' muss eine Zahl sein",value_integer_float:"'{{value}}' darf keine Kommazahl sein",value_number:"'{{value}}' muss eine Zahl sein",value_phone:"'{{value}}' darf nur aus Zahlen, Leerzeichen und den Zeichen '+-/()' bestehen",value_radio:"Eins der Optionsfelder muss ausgewählt werden",value_checkbox:"Das Kontrollkästchen muss ausgewählt werden",value_select:"Es muss eine andere Option ausgewählt werden",value_text:"Das Textfeld muss ausgefüllt werden",constraint_enumerate_prefix:"'{{value}}'",constraint_list_prefix:"'{{value}}'",constraint_sentence_prefix:"'{{value}}'",constraint_blacklist_prefix:"darf",constraint_blacklist:"keines der Zeichen '{{blacklist}}'",constraint_blacklist_suffix:"enthalten",constraint_whitelist_prefix:"muss",constraint_whitelist:"jedes der Zeichen '{{whitelist}}'",constraint_whitelist_suffix:"enthalten",constraint_max_prefix:"darf",constraint_max:"nicht größer als oder gleich {{max}}",constraint_max_suffix:"sein",constraint_max_include_max_prefix:"darf",constraint_max_include_max:"nicht größer als {{max}}",constraint_max_include_max_suffix:"sein",constraint_max_length_prefix:"darf",constraint_max_length:"nicht länger als {{max_length}} Zeichen",constraint_max_length_suffix:"sein",constraint_max_length_enforce_max_length_prefix:"wurde",constraint_max_length_enforce_max_length:"auf {{max_length}} Zeichen",constraint_max_length_enforce_max_length_suffix:"gekürzt",constraint_min_prefix:"darf",constraint_min:"nicht kleiner als oder gleich {{min}}",constraint_min_suffix:"sein",constraint_min_include_min_prefix:"darf",constraint_min_include_min:"nicht kleiner als {{min}}",constraint_min_include_min_suffix:"sein",constraint_min_length_prefix:"darf",constraint_min_length:"nicht kürzer als {{min_length}} Zeichen",constraint_min_length_suffix:"sein",constraint_min_length_enforce_min_length_prefix:"wurde",constraint_min_length_enforce_min_length:"auf {{min_length}} Zeichen",constraint_min_length_enforce_min_length_suffix:"verlängert",constraint_regex_prefix:"muss",constraint_regex:"dem regulären Ausdruck '{{regex}}'",constraint_regex_suffix:"entsprechen"}),e.extend(k.en,{dependency_general:"This field's dependencies must be correctly filled in first",dependency_prefix:"The fields",dependency_suffix:"must be filled in correctly",dependency_singular_prefix:"The field",dependency_singular_suffix:"must be filled in correctly",value_email:"'{{value}}' address must be of the form 'my.address@provider.ending'",value_email_at:"'{{value}}' address must contain an @ symbol",value_email_many_at:"'{{value}}' address can only have one @ symbol",value_email_dot:"'{{value}}' must have a correct ending (i.e. '.com')",value_integer:"'{{value}}' must be an integer",value_integer_float:"'{{value}}' must not be decimal",value_number:"'{{value}}' must be a number",value_phone:"'{{value}}' can only contain numbers, spaces, and the characters '+-/()'",value_radio:"One of the radio buttons must be selected",value_checkbox:"The checkbox must be selected",value_select:"Another option must be selected",value_text:"Please fill in this text field",constraint_enumerate_prefix:"'{{value}}'",constraint_list_prefix:"'{{value}}'",constraint_sentence_prefix:"'{{value}}'",constraint_blacklist_prefix:"must not",constraint_blacklist:"contain any of the characters '{{blacklist}}'",constraint_blacklist_suffix:"",constraint_whitelist_prefix:"must",constraint_whitelist:"contain all of the characters '{{whitelist}}'",constraint_whitelist_suffix:"",constraint_max_prefix:"must not",constraint_max:"be greater than or equal to {{max}}",constraint_max_suffix:"",constraint_max_include_max_prefix:"must not",constraint_max_include_max:"be greater than {{max}}",constraint_max_include_max_suffix:"",constraint_max_length_prefix:"must not",constraint_max_length:"be longer than {{max_length}} characters",constraint_max_length_suffix:"",constraint_max_length_enforce_max_length_prefix:"was",constraint_max_length_enforce_max_length:"shortened to {{max_length}} characters",constraint_max_length_enforce_max_length_suffix:"",constraint_min_prefix:"must not",constraint_min:"be less than or equal to {{min}}",constraint_min_suffix:"",constraint_min_include_min_prefix:"must not",constraint_min_include_min:"be less than {{min}}",constraint_min_include_min_suffix:"",constraint_min_length_prefix:"must not",constraint_min_length:"be shorter than {{min_length}} characters",constraint_min_length_suffix:"",constraint_min_length_enforce_min_length_prefix:"was",constraint_min_length_enforce_min_length:"extended to {{min_length}} characters",constraint_min_length_enforce_min_length_suffix:"",constraint_regex_prefix:"must",constraint_regex:"match the regular expression '{{regex}}'",constraint_regex_suffix:""}),R={de:{},en:{}},R.de[t.ENUMERATE]=null,R.de[t.SENTENCE]=null,R.de[t.LIST]=null,R.en[t.ENUMERATE]=null,R.en[t.SENTENCE]=null,R.en[t.LIST]=null,L={},I={},c=function(){function e(e,t,r){3===arguments.length?(this.func=r,e[t]=this):this.func=arguments[0]}return e.prototype.make=function(){return this.func.apply(this,arguments)},e}(),f=function(e){function t(e,r){t.__super__.constructor.call(this,I,e,r)}return G(t,e),t.prototype.create_data=function(e,t,r,n){return this.make(e,t,r,n)},t}(c),d=function(e){function t(e,r){t.__super__.constructor.call(this,L,e,r)}return G(t,e),t.prototype.build_message=function(e,t,r,n,i){return this.make(e,t,r,n,i)},t}(c),h=function(){function e(){this._dict={},this._order=[]}return e.prototype.put=function(e,t,r){var n;return this._dict[e]=t,null==r?Z.call(this._order,e)<0&&this._order.push(e):(n=this._order.indexOf(e),n>=0&&this._order.splice(n,1),this._order.splice(r,0,e)),this},e.prototype.get=function(e){return this._dict[e]},e.prototype.remove=function(e){var t;return delete this._dict[e],this._order=function(){var r,n,i,a;for(i=this._order,a=[],r=0,n=i.length;n>r;r++)t=i[r],t!==e&&a.push(t);return a}.call(this),this},e.prototype.join=function(e){var t;return null==e&&(e=""),function(){var r,n,i,a,o;for(a=this._order,o=[],n=0,i=a.length;i>n;n++)t=a[n],o.push(("function"==typeof(r=this._dict[t]).join?r.join(e):void 0)||this._dict[t]);return o}.call(this).join(e)},e.prototype.each=function(e){var t,r,n,i,a;for(a=this._order,t=n=0,i=a.length;i>n;t=++n)if(r=a[t],e.call(this,r,this._dict[r],t)===!1)return this;return this},e.prototype.to_array=function(){var e;return function(){var t,r,n,i;for(n=this._order,i=[],t=0,r=n.length;r>t;t++)e=n[t],i.push(this._dict[e]);return i}.call(this)},e.prototype.to_object=function(){var e,t,r,n;r={},t=this._dict;for(e in t)n=t[e],r[e]=n;return r},e.prototype.get_object=function(){return this._dict},e.prototype.get_order=function(){return this._order},e}(),U=function(){var t,r,n,i,a,o;if(r=arguments[0],o=2<=arguments.length?Y.call(arguments,1):[],o=1===o.length?o[0]:e.extend.apply(e,o),"string"==typeof r){for(t in o)a=o[t],i="{{"+t+"}}",r.indexOf(i)>=0&&(n=new RegExp(i,"g"),r=r.replace(n,a));return r}if(r instanceof Function)return r(o);throw new Error("FormValidator: Error while building an error message. Expected mustache-like string or function but was given:",r,o)},new f(v.DEPENDENCIES,function(e,t,r,n){var i,a,o,s,l,_,u,c;return l=function(){var t,r,n;for(n=[],t=0,r=e.length;r>t;t++)i=e[t],null!=i.name&&n.push(i.name);return n}(),l.length===e.length?(o=k[n],a=x[t].toLowerCase(),1===l.length&&(a+="_singular"),u=a+"_prefix",c=a+"_suffix",_=function(){var e,t,r;for(r=[],e=0,t=l.length;t>e;e++)s=l[e],r.push({message:"'"+s+"'",prefix:o[u],suffix:o[c]});return r}()):(a=x[t].toLowerCase()+"_general",_=[]),{parts:_}}),new f(v.VALUE,function(e,t,r,n){var i,a,o;return i=e[0],a=x[t].toLowerCase()+"_"+(i.error_message_type||i.type),o={message:U(k[n][a],i),prefix:"",suffix:""},{key:a,parts:[o]}}),new f(v.CONSTRAINTS,function(t,r,n,i){var a,o,s,l,_,u,c,d,f,p,h,g,m,v,y,N,b,O,A,S,D,R,C,L,I,P,F,q,M;for(D=[],c=[],q=[],g=0,m=t.length;m>g;g++){for(s=t[g],_=!1,d=O=0,v=E.length;v>O;d=++O)u=E[d],I=s.type,Z.call(u,I)>=0&&(_=!0,null!=c[d]?c[d].push(s):c[d]=[s]);_||q.push(s)}for(A=0,y=q.length;y>A;A++)s=q[A],c.push([s]);for(R=x[r].toLowerCase(),p=R+"_",a=k[i][(R+"_"+n+"_prefix").toLowerCase()]||"",o=k[i][(R+"_"+n+"_suffix").toLowerCase()]||"",L=0,N=c.length;N>L;L++)if(t=c[L],null!=t){for(h=[],F=0,b=t.length;b>F;F++)if(s=t[F],h.push(s.type),null!=s.options){P=s.options;for(S in P)M=P[S],w(S,M,i)&&h.push(S)}f=T(h,i,p),null!=f&&D.push({message:U.apply(null,[k[i][f]].concat(Y.call(t))),prefix:U(k[i][f+"_prefix"],s)||a,suffix:U(k[i][f+"_suffix"],s)||o})}return f=R+"_"+n.toLowerCase(),C=U(""+k[i][f+"_prefix"],t[0]),l=e.extend.apply(e,[{}].concat(t)),{key:f,parts:D,error_data:l,prefix:C}}),C=new c(function(e,t,r,n,i,a,o,s){var l,_,u,c,d,f,p,g,m,v,x,y;for(null==o&&(o=" "),null==s&&(s=" "),c=e.key,x=e.parts,_=null!=(y=e.error_data)?y:{},i=i||e.prefix||k[n][c+"_prefix"]||"",a=a||e.suffix||k[n][c+"_suffix"]||"",e.prefix=("function"==typeof i?i():void 0)||i,e.suffix=("function"==typeof a?a():void 0)||a,u=d=0,f=x.length;f>d;u=++d)v=x[u],l=new h,v.prefix&&(l.put("prefix",v.prefix),l.put("prefix_delimiter",v.prefix_delimiter||o)),l.put("message",v.message),v.suffix&&(l.put("suffix_delimiter",v.suffix_delimiter||s),l.put("suffix",v.suffix)),x[u]=l;for(m=new h,u=g=0,p=x.length;p>g;u=++g)v=x[u],m.put(u,v);return e.parts=m,e}),new d(t.ENUMERATE,function(e,t,r,n){var i,a,o,s,l,_,u,c,d,f,p,g,m,v,x,y,E,N;e=C.make(e,t,r,n),g=e.parts.to_array(),o=k[n],v=D(g,function(e){return e.get("suffix")||""}),g=[];for(E in v){N=v[E],m=D(N,function(e){return e.get("prefix")||""});for(x in m)for(y=m[x],i=a=0,s=y.length;s>a;i=++a)f=y[i],i>0&&(f.remove("prefix"),f.remove("prefix_delimiter"));for(i=u=0,l=N.length;l>u;i=++u)f=N[i],i<N.length-1&&(f.remove("suffix_delimiter"),f.remove("suffix"));g=g.concat(N)}for(c=new h,i=d=0,_=g.length;_>d;i=++d)p=g[i],i===g.length-1&&i>0&&(p.put("prefix"," "+k[n].and+" "+(p.get("prefix")||""),0),p.put("prefix_delimiter"," ",1)),c.put(i,p);return e.parts=c,((e.prefix||"")+" "+c.join("")+" "+(e.suffix||"")).replace(/\s+/g," ")}),new d(t.SENTENCE,function(e,t,r,n){var i,a,o,s,l;for(e=C.make(e,t,r,n),e.parts.each(function(t,r){return r.put("prefix",(" "+(e.prefix||"")+" "+(r.get("prefix")||"")).trim(),0),r.put("prefix_delimiter"," ",1),r.put("suffix_delimiter",r.get("suffix")?r.get("suffix_delimiter"):"",3),r.put("suffix",(" "+(e.suffix||"")+" "+(r.get("suffix")||"")+".").trim(),4),!0}),s=[],l=e.parts.to_array(),i=0,a=l.length;a>i;i++)o=l[i],s.push(o.join());return s.join(" ").replace(/\s+/g," ").trim()}),new d(t.LIST,function(e,r,n,i){var a,o;return o=L[t.SENTENCE].build_message(e,r,n,i),"."===o[o.length-1]&&(o+=" "),"<ul><li>"+function(){var e,t,r,n;for(r=o.split(". "),n=[],e=0,t=r.length;t>e;e++)a=r[e],a&&n.push(a+".");return n}().join("</li><li>")+"</li></ul>"}),O={},O[i.DISPLAY]=function(e,t){var r;return t?null!=(r=e.data("_fv_orig_display"))&&e.css("display",r):(e.data("_fv_orig_display",e.css("display")),e.css("display","none")),e},O[i.ENABLE]=function(e,t){return e.prop("disabled",!t)},O[i.FADE]=function(e,t){return t?e.fadeIn(a):e.fadeOut(a),e},O[i.OPACITY]=function(e,t){var r;return t?null!=(r=e.data("_fv_orig_opacity"))&&e.animate({opacity:r,DEPENDENCY_CHANGE_ACTION_DURATION:a}):(e.data("_fv_orig_opacity",e.css("opacity")),e.animate({opacity:0,DEPENDENCY_CHANGE_ACTION_DURATION:a})),e},O[i.SHOW]=function(e,t){return t?e.show(a):e.hide(a),e},O[i.SLIDE]=function(e,t){return t?e.slideDown(a):e.slideUp(a),e},u=function(){function t(e,t){null==t&&(t={}),this.form_validator=e,null!=l[t.error_output_mode]||t.error_output_mode instanceof Function?this.error_output_mode=t.error_output_mode:this.error_output_mode=l.DEFAULT}return t.prototype._apply_classes=function(e,t,r,n){var i,a,o,s,l;if(null!=t){for(l=this.form_validator._find_targets(t,e),i=a=0,o=l.length;o>a;i=++a)s=l[i],s instanceof jQuery||(s=l.eq(i)),n===!1?s.addClass(r):s.removeClass(r);return l}return[]},t.prototype._set_message_below=function(t,r,n){var i;return null==(i=r.data("_fv_error_container"))&&("radio"===n.type&&(r=e("input[name='"+r.attr("name")+"']").last()),0===(i=r.next(".fv-error-message")).length&&(i=e('<div class="fv-error-message" />'),r.after(i)),r.data("_fv_error_container",i)),i.html(t),this},t.prototype._set_message_tooltip=function(t,r,n){return null==r.data("_fv_tooltip")&&r.tooltip({html:!0,placement:r.attr("data-placement")||"top",title:function(){return e(this).data("_fv_tooltip")}}),r.data("_fv_tooltip",t).tooltip("hide"),this},t.prototype._set_message_popover=function(t,r,n){return"checkbox"===n.type||"radio"===n.type||"select"===n.type?(r.attr("title",t),this):(null==r.data("_fv_popover")&&r.popover({html:!0,placement:r.attr("data-placement")||"right",content:function(){return e(this).data("_fv_popover")},trigger:"manual"}).focus(function(){return r.popover("show"),!1}).blur(function(){return r.popover("hide"),!0}).click(function(){return document.activeElement===this&&r.popover("toggle"),!0}),r.data("_fv_popover",t).popover("hide"),this)},t.prototype._process_error_message=function(e,t,r){var n,i;return this.error_output_mode===l.NONE?this:(this.error_output_mode instanceof Function?(i=this.error_output_mode(t,r,e),i.html(e)):(n=this.error_output_mode.toLowerCase(),this["_set_message_"+n](e,t,r)),this)},t.prototype._process_max_length=function(e,t,r){var n,i;return"true"===e.options.enforce_max_length?(n=parseInt(e.value,10),i=r.value.slice(0,n),r.value=i,t.val(i),!0):!1},t.prototype._process_min_length=function(e,t,r){var n,i,a;return"true"===e.options.enforce_min_length?(i=parseInt(e.value,10),a=r.value+function(){var e,t,a;for(a=[],n=e=0,t=r.value.length-i;t>=0?t>e:e>t;n=t>=0?++e:--e)a.push(".");return a}().join(""),r.value=a,t.val(a),!0):!1},t.prototype._process_constraint=function(e,t,r){var n;return("function"==typeof this[n="_process_"+e.name]?this[n](e,t,r):void 0)||!1},t.prototype._on_dependency_change=function(e,t,r,n){var i,a;return i=FormValidator,r.depends_on.length>0&&null!=r.error_targets&&(this.form_validator.dependency_change_action instanceof Function?this.form_validator.dependency_change_action(t,n):null!=(a=i.dependency_change_actions[e])&&a.call(i.dependency_change_actions,r.error_targets,n)),this},t.prototype.modify=function(e,t){var r,n,i,a,o,s,l,_,u,c,d,f,p,h,g,m,x,y,E,N,b,O,T,A,S;for(c=this.form_validator,_=c.fields.all,l=c.error_output_mode,u=null,f=h=0,O=_.length;O>=0?O>h:h>O;f=O>=0?++h:--h){for(a=_.eq(f),n=c._get_element_data(a),d=null,y=0,g=e.length;g>y;y++)if(o=e[y],o.element.is(a)){d=o;break}if(null==d)p=!0,E="";else{for(p=!1,null==u&&(u=a),T=d.errors,N=0,m=T.length;m>N;N++)if(s=T[N],s.phase===v.DEPENDENCIES)S=!1;else if(s.phase===v.CONSTRAINTS)for(A=n.constraints,b=0,x=A.length;x>b;b++)if(r=A[b],r.name===s.type){i=this._process_constraint(r,a,n),i&&c._set_element_data(a,n);break}E=d.message}n.dependency_changed&&this._on_dependency_change(n.dependency_change_action,a,n,n.valid_dependencies),t.apply_error_classes===!0&&(this._apply_classes(a,n.error_targets,n.error_classes||c.error_classes,p),this._apply_classes(a,n.error_targets,n.success_classes||c.success_classes,!p),this._apply_classes(a,n.depends_on,n.dependency_error_classes||c.dependency_error_classes,n.valid_dependencies)),this._process_error_message(E,a,n)}return t.focus_invalid===!0&&null!=u&&u.focus(),this},t}(),window.FormValidator=function(){function a(r,n,a){var o;null==a&&(a={}),o=this.constructor,this.form=r,this.fields=null,this.form_modifier=n,this.last_validation=null,this.error_classes=a.error_classes||this.form.attr("data-fv-error-classes")||"fv-invalid",this.success_classes=a.success_classes||this.form.attr("data-fv-success-classes")||"fv-valid",this.dependency_error_classes=a.dependency_error_classes||this.form.attr("data-fv-dependency-error-classes")||"fv-invalid-dependency",this.dependency_change_action=a.dependency_change_action||this.form.attr("data-fv-dependency-change-action")||i.DEFAULT,this.validators=e.extend({},o.validators,a.validators),this.validation_options=a.validation_options||null,this.constraint_validators=e.extend({},o.constraint_validators,a.constraint_validators),this.build_mode=a.build_mode||t.DEFAULT,this.error_mode=null!=o.ERROR_MODES[a.error_mode]?a.error_mode:o.ERROR_MODES.DEFAULT,this.locale=a.locale||"en",this.error_target_getter=a.error_target_getter||null,this.field_getter=a.field_getter||null,this.required_field_getter=a.required_field_getter||null,this.preprocessors=e.extend(o.default_preprocessors,a.preprocessors||{}),this.postprocessors=a.postprocessors||{},this.group=a.group||null,this.process_errors=a.process_errors||null,this._field_order=null}var o,s;for(s in _)o=_[s],a[s]=o;return a.constraint_validators=b,a.validators=V,a.dependency_change_actions=O,a.locales=k,a.default_preprocessors={number:function(e,t,r){switch(r){case"de":return e.replace(/\,/g,".");default:return e}},integer:function(e,t,r){switch(r){case"de":return e.replace(/\,/g,".");default:return e}}},a.configure=function(e){return e({constraint_validator_groups:E,constraint_validator_options_in_locale_key:N,constraint_validator_options:constraint_validator_options,locale_message_builders:R,message_builders:L,message_data_creators:I}),this},a.get_error_message_type=function(e,t){var r;return t===this.ERROR_MODES.SIMPLE?r=e.split("_")[0]:e},a._build_error_message=function(e,t,r,n){var i;return i=I[e].create_data(t,e,r,n),L[r].build_message(i,e,r,n)},a._get_error_message_for_element=function(e,t,r,n,i){var a,o,s,l,_,u,c;null==i&&(i=" "),o=[],s={};for(u in v)s[u]=function(){var e,r,n;for(n=[],e=0,r=t.length;r>e;e++)a=t[e],a.phase===u&&n.push(a);return n}();for(c=this.ERROR_MESSAGE_CONFIG.PHASE_ORDER,l=0,_=c.length;_>l;l++)u=c[l],s[u].length>0&&o.push(this._build_error_message(u,s[u],r,n));return o.join(i)},a["new"]=function(e,t){var r,n;return n=new this(e,null,t),r=new u(n,t),n.form_modifier=r,n},a.new_without_modifier=function(e,t){return new this(e,null,t)},a.prototype._get_fields=function(t){return("function"==typeof this.field_getter?this.field_getter(t):void 0)||t.find("[data-fv-validate]").filter(function(t,r){return 0===e(r).closest("[data-fv-ignore-children]").length})},a.prototype._get_required=function(e){return("function"==typeof this.required_field_getter?this.required_field_getter(e):void 0)||e.not("[data-fv-optional='true']")},a.prototype._get_attribute_value_for_key=function(e,t){var r,i,a,o,s,l,_,u;return s="data-fv-",_={type:"validate",required:"optional"},i=["preprocess","required"],r=null==_[t]?s+t.replace(/\_/g,"-"):s+_[t],u=e.attr(r),a=null!=u,a?u=u.trim():(l=o=t.toUpperCase(),Z.call(Object.keys(n),l)>=0&&(u=n[o])),Z.call(i,t)>=0&&(u="true"===u||u===!0),"required"===t&&a&&(u=!u),u},a.prototype._set_element_data=function(t,r){return e.data(t[0],"_fv",r),this},a.prototype._get_element_data=function(t){return e.data(t[0],"_fv")},a.prototype._cache_attribute=function(e,t,r,i){return null==i?i=e.attr("data-fv-"+r.replace(/\_/g,"-")):i instanceof Function&&(i=i.call(this)),null==i&&(i=n[r.toUpperCase()]),t[r]=i,t},a.prototype._get_value=function(e,t){var r,n,i,a;return n=t.type,i=!0,"checkbox"===n||"radio"===n?(a=e.prop("checked")===!0?"checked":"unchecked",r="checkbox"):"select"===n?(a=e.children(":selected").val(),r="val"):(a=e.val(),r="val"),null==a&&(i=!1,a=e.text(),r="text"),{method:r,value:a}},a.prototype._set_value=function(e,t,r,n){return"checkbox"===r?e.prop("checked","checked"===n):"val"===r?e.val(n):e.text(n),this},a.prototype._get_value_info=function(e,t){var r,n,i,a,o,s;return a=t.type,n=t.preprocess,i=this._get_value(e,t),r=i.method,o=i.value,s=o!==t.value,t.value=o,null!=this.preprocessors[a]&&n!==!1&&(o=this.preprocessors[a].call(this.preprocessors,o,e,this.locale)),{method:r,value:o,value_has_changed:s}},a.prototype._find_targets=function(e,t,r){var n;return null==r&&(r=/\s*\;\s*/g),"string"==typeof e?function(){var i,a,o,s;for(o=e.split(r),s=[],i=0,a=o.length;a>i;i++)n=o[i],s.push(this._find_target(n,t));return s}.call(this):e||[]},a.prototype._find_target=function(t,r){var n;return"self"===t?r:(n=this.form.find("[data-fv-name='"+t+"']"),0===n.length&&(n=r.closest(t)),0===n.length&&(n=this.form.find(t)),0===n.length&&(n=e(t)),n)},a.prototype._get_error_targets=function(e,t){return("function"==typeof this.error_target_getter?this.error_target_getter(e,t):void 0)||e.attr("data-fv-error-targets")||e.closest("[data-fv-error-targets]").attr("data-fv-error-targets")||n.ERROR_TARGETS},a.prototype._group=function(e){var t,r,n,i,a,o,l,_;for(r={},o=l=0,_=e.length;_>=0?_>l:l>_;o=_>=0?++l:--l)n=e.eq(o),t=this._get_element_data(n),null==t.group&&(t.group=n.attr("data-fv-group")||n.attr("name")||"",this._set_element_data(n,t)),a=t.group,null==r[a]?r[a]=[n]:r[a].push(n);return function(){var e;e=[];for(s in r)i=r[s],e.push(i);return e}()},a.prototype._group_errors=function(e,t){var r,n,i,a,o,s,l,_,u,c,d,f,p,h;for(r=this.constructor,h=[],o=this.fields.all,l=_=0,f=o.length;f>=0?f>_:_>f;l=f>=0?++_:--_){n=o.eq(l),i=function(){var t,r,i;for(i=[],r=0,t=e.length;t>r;r++)a=e[r],a.element.is(n)&&i.push(a);return i}(),s=D(i,function(e){return e.phase});for(c in v)if((null!=(p=d=s[c])?p.length:void 0)>0){i=d;break}i.length>0&&(u=t.messages===!0?r._get_error_message_for_element(n,i,this.build_mode,this.locale):"",h.push({element:n,errors:i,message:u}))}return h},a.prototype._validate_value=function(e,t,r){var n,i,a,o;if(n=t.type,o=r.value,a=this.validators[n],null==a)throw new Error("FormValidator::_validate_value: No validator found for type '"+n+"'. Make sure the type is correct or define a validator!");return i=a.call(this.validators,o,e),i===!1?i={error_message_type:n}:"string"==typeof i&&(i={error_message_type:i}),i!==!0&&(i.error_message_type=this.constructor.get_error_message_type(i.error_message_type,this.error_mode)),i},a.prototype._validate_dependencies=function(e,t,r){var n,i,a,o,s,l,_,u,c;for(s=[],o=t.depends_on,l=_=0,u=o.length;u>_;l=++_)i=o[l],n=this._get_element_data(i),a=this._validate_element(i,n,this._get_value_info(i,n),r),a.length>0&&s.push({dependency_element:i,element:e,index:l,type:n.type,name:n.name});return null==t.dependency_mode&&(this._cache_attribute(e,t,"dependency_mode"),this._set_element_data(e,t)),c="any"===t.dependency_mode?s.length<o.length:0===s.length,{dependency_errors:s,dependency_elements:o,valid_dependencies:c,dependency_mode:t.dependency_mode}},a.prototype._validate_constraints=function(e,t,i){var a,o,s,l,_,u,c,d,f,p,h,g,m,v,x,y;if(y={},null!=t.constraints)c=t.constraints;else{a=this.constructor,c=[],v=this.constraint_validators;for(s in v)if(l=v[s],null!=(u=this._get_attribute_value_for_key(e,s))){if(null!=(_=r[s]))for(m={},d=0,f=_.length;f>d;d++)g=_[d],m[g]=this._get_attribute_value_for_key(e,g)||n[g.toUpperCase()];else m=null;c.push({name:s,options:m,validator:l,value:u})}t.constraints=c,this._set_element_data(e,t)}for(h=0,p=c.length;p>h;h++)o=c[h],o.validator.call(this.constraint_validators,i,o.value,o.options)===!0?y[o.name]=!0:(x={},x.options=o.options,x[o.name]=o.value,y[o.name]=x);return y},a.prototype._validate_element=function(t,r,n,i){var a,o,s,l,_,u,c,d,f,p,h,g,m,x,y,E,N,b,O,T,A,S,D,w,R;if(r.last_validation===this.last_validation)return r.errors[v.DEPENDENCIES].concat(r.errors[v.VALUE],r.errors[v.CONSTRAINTS]);if(c=[],y=!0,d=r.required,A=r.type,w=n.value,R=n.value_has_changed,m=n.method,x=v.DEPENDENCIES,E=this._validate_dependencies(t,r,i),l=E.dependency_errors,o=E.dependency_elements,_=E.dependency_mode,S=E.valid_dependencies,S)r.errors[x]=[];else{for(y=!1,f=0,p=l.length;p>f;f++)s=l[f],e.extend(s,{element:t,required:d,type:"dependency",phase:x,mode:_});r.errors[x]=l}if(r.dependency_changed=S!==r.valid_dependencies,r.valid_dependencies=S,r.dependency_changed&&null==r.error_targets&&this._cache_attribute(t,r,"error_targets",function(){return this._get_error_targets(t,A)}),c=c.concat(r.errors[x]),x=v.VALUE,!y&&i.stop_on_error||(R||r.dependency_changed&&r.valid_dependencies&&0===r.errors[x].length?(D=this._validate_value(t,r,n),D!==!0?(y=!1,r.valid_value=!1,r.errors[x]=[{element:t,error_message_type:D.error_message_type,phase:x,required:d,type:A,value:w}]):(r.valid_value=!0,r.errors[x]=[])):R||!y&&i.stop_on_error||r.valid_value!==!0&&(y=!1)),c=c.concat(r.errors[x]),x=v.CONSTRAINTS,R){if(y||!i.stop_on_error){r.valid_constraints=!0,T=[],N=this._validate_constraints(t,r,w);for(a in N)O=N[a],O!==!0&&(r.valid_constraints=!1,y=!1,T.push(e.extend(O,{element:t,required:d,type:a,phase:x,value:w})));r.errors[x]=T}}else!y&&i.stop_on_error||r.valid_constraints!==!0&&(y=!1);if(c=c.concat(r.errors[x]),r.valid_dependencies&&r.valid_value&&r.valid_constraints){if(r.valid===!0&&null!=r.postprocess&&null!=r.output_preprocessed||(r.valid=!0,this._cache_attribute(t,r,"postprocess"),this._cache_attribute(t,r,"output_preprocessed")),r.postprocess===!0||r.output_preprocessed===!0)for(r.postprocess===!0?w=null!=(b=this.postprocessors[A])?b.call(this.postprocessors,w,t,this.locale):void 0:r.output_preprocessed===!0&&null!=this.preprocessors[A]&&(w=this.preprocessors[A].call(this.preprocessors,w,t,this.locale)),this._set_value(t,r,m,w),g=0,h=c.length;h>g;g++)u=c[g],u.value=w}else r.valid!==!1&&(r.valid=!1);return i.apply_error_classes===!0&&null==r.error_targets&&this._cache_attribute(t,r,"error_targets",function(){return this._get_error_targets(t,A);
}),r.last_validation=this.last_validation,this._set_element_data(t,r),c},a.prototype.cache=function(){var e,t,r,n,i,a,o,s,l,_,u,c,d,f,h;for(i=this._get_fields(this.form),r={},s={},a=_=0,h=i.length;h>=0?h>_:_>h;a=h>=0?++_:--_){for(n=i.eq(a),e={},d=0,u=m.length;u>d;d++)l=m[d],e[l]=this._get_attribute_value_for_key(n,l);for(e.depends_on=this._find_targets(e.depends_on,n,/^\s*\;\s*$/g),e.id=a,null==e.dependency_change_action&&(e.dependency_change_action=this.dependency_change_action),f=0,c=p.length;c>f;f++)l=p[f],e[l]=null;e.errors={},e.errors[v.DEPENDENCIES]=[],e.errors[v.VALUE]=[],e.errors[v.CONSTRAINTS]=[],this._set_element_data(n,e),s[e.id]=n,r[e.id]=function(){var r,n,i,a;for(i=e.depends_on,a=[],n=0,r=i.length;r>n;n++)t=i[n],a.push(this._get_element_data(t).id);return a}.call(this)}return this.fields={all:i,required:this._get_required(i),ordered:function(){var e,t,n,i;for(n=j(r),i=[],t=0,e=n.length;e>t;t++)o=n[t],i.push(s[o]);return i}()},this},a.prototype.validate=function(t){var r,n,i,a,o,l,_,u,c,d,f,p,h,g,m;for(null==t&&(t={}),i={all:!1,apply_error_classes:!0,focus_invalid:!0,messages:!0,stop_on_error:!0,recache:!1},t=e.extend(i,this.validation_options,t),null!=this.fields&&t.recache!==!0||this.cache(),this.last_validation=Date.now(),r=this.constructor,l=[],g=!1,_=this.fields.ordered,d=0,f=_.length;f>d;d++)a=_[d],n=this._get_element_data(a),c=n.required,h=n.type,s=n.name,m=this._get_value_info(a,n),t.all!==!1||c||0!==m.value.length&&"radio"!==h&&"checkbox"!==h?(o=this._validate_element(a,n,m,t),o.length>0&&(l=l.concat(o))):null==n.error_targets&&(n=this._cache_attribute(a,n,"error_targets",function(){return this._get_error_targets(a,h)}),this._set_element_data(a,n));return u=this._group_errors(l,t),"function"==typeof this.process_errors&&this.process_errors(u),t.modify!==!1&&null!=(p=this.form_modifier)&&p.modify(u,t),u},a.prototype.get_progress=function(t){var r,n,i,a,o,s,l,_,u,c,d,f,p,h,m,v,x,y,E,N,b,O,T;for(null==t&&(t={mode:g.DEFAULT,recache:!1}),null!=this.fields&&t.recache!==!0||this.cache(),a=this.fields.all,s=("function"==typeof this.group?this.group(a):void 0)||this._group(a),O=[],i=this.validate({all:!0,messages:!1,modify:!1,recache:!1,stop_on_error:!0}),h=t.mode,l=u=0,c=s.length;c>u;l=++u){for(o=s[l],x=0,v=0,E=0,y=0,_=p=0,d=o.length;d>p;_=++p)n=o[_],n instanceof jQuery||(n=("function"==typeof o.eq?o.eq(_):void 0)||e(n)),r=this._get_element_data(n),r.required===!0?(x++,r.valid===!0&&E++):(v++,r.valid===!0&&y++);x>0?h===g.PERCENTAGE?O.push(E/x):h===g.ABSOLUTE&&O.push({count:E,total:x}):v>0?y>0?h===g.PERCENTAGE?O.push(1):h===g.ABSOLUTE&&O.push({count:v,total:v}):h===g.PERCENTAGE?O.push(0):h===g.ABSOLUTE&&O.push({count:0,total:v}):O.push(null)}for(T=0,m=0,N=0,f=O.length;f>N;N++)b=O[N],null!=b&&(T+=b,m++);return O.average=T/m,O},a}(),e(document).ready(function(){return e(document).on("click","[data-fv-start]",function(){var t,r,n,i,a,o,s;if(t=e(this),null==(r=t.data("_form_validator_container"))&&(r=t.closest(t.attr("data-fv-start")),0===r.length&&(r=e(t.attr("data-fv-start"))),t.data("_form_validator_container",r)),null==(o=r.data("_form_validator"))){if(s=t.attr("data-fv-start-options"),null!=s)try{s=JSON.parse(s)}catch(i){n=i;try{s=window[s]()}catch(a){n=a,s={}}}o=FormValidator["new"](r,s),r.data("_form_validator",o)}return o.validate(),!1}),e(document).on("change keyup","[data-fv-real-time] [data-fv-validate]",function(t){var r,n,i,a,o,s;return r=e(this),s=(null!=(o=r.attr("type"))?o.toLowerCase():void 0)||"",a=1===r.filter("textarea").length||r.filter("input").length&&("button"===s||"checkbox"===s||"color"===s||"file"===s||"image"===s||"radio"===s||"range"===s||"submit"===s),"change"===t.type&&a?!0:(n=r.closest("[data-fv-real-time]"),1===n.length&&(null==(i=n.data("_form_validator"))&&(i=FormValidator["new"](n),n.data("_form_validator",i)),i.validate({focus_invalid:!1})),!1)}),!0})}(jQuery);