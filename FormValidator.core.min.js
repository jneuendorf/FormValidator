!function(e){var t,n,r,i,a,s,o,l,_,u,c,d,f,h,p,g,m,v,x,E,y,N,b,T,O,A,S,D,R,w,k,C,L,I,P,U,q,F,M,j,V=function(e,t){function n(){this.constructor=e}for(var r in t)G.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},G={}.hasOwnProperty,Z=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},B=[].slice;O=function(e){var t,n;return t=function(e,r){var i,a,s,o,l;for(null==r&&(r=[]),l=[],a=s=0,o=e.length;o>=0?o>s:s>o;a=o>=0?++s:--s)i=e.splice(a,1),0===e.length&&n.push(r.concat(i)),t(e.slice(),r.concat(i)),l.push(e.splice(a,0,i[0]));return l},n=[],t(e),n},A=function(e,t){var n,r,i,a,s,o,l;for(l=[],a=e.length,s=function(){var e,r,i;for(i=[],n=e=0,r=t;r>=0?r>e:e>r;n=r>=0?++e:--e)i.push(n);return i}();;){if(l.push(function(){var t,n,i;for(i=[],t=0,n=s.length;n>t;t++)r=s[t],i.push(e[r]);return i}()),s[0]===a-t)break;for(n=t-1;n>=0&&s[n]+t-n===a;)n--;for(o=s[n],s[n]++,i=2,n++;t>n;)s[n]=o+i,n++,i++}return l},S=function(e,t){var n,r,i,a,s;for(r={},a=0,s=e.length;s>a;a++)n=e[a],null==(i="function"==typeof t?t(n):void 0)&&(i=n),null==r[i]&&(r[i]=[]),r[i].push(n);return r},t=function(t){var n,r,i,a;for(a=e(),r=0,i=t.length;i>r;r++)n=t[r],a=a.add(n);return a},M=function(e){var t,n,r,i,a,s,o,l;for(e=I(e),t=[],function(){var n,r;r=[];for(n in e)0===e[n].cnt?(delete e[n],r.push(t.push(n))):r.push(void 0);return r}(),l=[],function(){var t,n,r;r=[];for(n in e)r.push(function(){var r;r=[];for(t in e[n].v)null==l[t]&&(l[t]=[]),r.push(l[t].push(n));return r}());return r}(),o=[];t.length>0;)for(n=t.pop(),o.push(n),s=l[n]||[],r=0,i=s.length;i>r;r++)a=s[r],F(e[a],n),0===e[a].cnt&&(t.push(a),delete e[a]);for(n in e)throw new Error("FormValidator::validate: Detected cyclical dependencies. Adjust your dependency definitions");return o},I=function(e){var t,n,r,i,a,s,o,l,_;l={},i=U();for(a in e)for(_=e[a],l[a]=U(),n=_,s=0,o=n.length;o>s;s++)t=n[s],""!==t&&(t!==a&&q(l[a],t),q(i,t));for(r in i.v)r in l||(l[r]=U());return l},U=function(){return{cnt:0,v:{}}},q=function(e,t){return e.v[t]||(e.cnt+=1,e.v[t]=!0),e},F=function(e,t){return e.v[t]&&(e.cnt-=1,delete e.v[t]),e},E={},T=function(e,t,n,r){var i,a,s,o,l,_,u,c,d,f,h,p,g;if(null==n&&(n=""),null==r&&(r=""),e=e.slice(0),e.sort(),i=e.join("_"),null!=E[i])return E[i];for(a=o=f=e.length;o>0;a=o+=-1)for(h=A(e,a),u=0,l=h.length;l>u;u++)for(g=h[u],p=O(g),c=0,_=p.length;_>c;c++)if(d=p[c],s=n+d.join("_")+r,null!=w[t][s])return E[i]=s,s;return null},l={NORMAL:"NORMAL",SIMPLE:"SIMPLE"},l.DEFAULT=l.NORMAL,_={BELOW:"BELOW",NONE:"NONE",POPOVER:"POPOVER",TOOLTIP:"TOOLTIP"},_.DEFAULT=_.NONE,a={DISPLAY:"DISPLAY",ENABLE:"ENABLE",FADE:"FADE",NONE:"NONE",OPACITY:"OPACITY",SHOW:"SHOW",SLIDE:"SLIDE"},a.DEFAULT=a.NONE,s=400,v={DEPENDENCIES:"DEPENDENCIES",VALUE:"VALUE",CONSTRAINTS:"CONSTRAINTS"},x={DEPENDENCIES:"DEPENDENCY",VALUE:"VALUE",CONSTRAINTS:"CONSTRAINT"},n={ENUMERATE:"ENUMERATE",LIST:"LIST",SENTENCE:"SENTENCE"},n.DEFAULT=n.ENUMERATE,o={PHASE_ORDER:[v.DEPENDENCIES,v.VALUE,v.CONSTRAINTS]},g={PERCENTAGE:"PERCENTAGE",ABSOLUTE:"ABSOLUTE"},g.DEFAULT=g.PERCENTAGE,m=["dependency_change_action","depends_on","id","name","preprocess","required","type"],h=["dependency_mode","error_classes","success_classes","dependency_error_classes","error_targets","group","output_preprocessed","postprocess","constraints","errors","valid_constraints","valid_dependencies","valid_value","value"],i={PREPROCESS:!0,POSTPROCESS:!1,REQUIRED:!0,OUTPUT_PREPROCESSED:!0,DEPENDENCY_MODE:"all",ERROR_TARGETS:"",DEPENDENCY_ACTION_TARGETS:"",DEPENDENCY_ACTION_DURATION:s,INCLUDE_MAX:"true",INCLUDE_MIN:"true"},r={max:["include_max"],max_length:["enforce_max_length"],min:["include_min"],min_length:["enforce_min_length"],regex:["regex_flags"]},u={BUILD_MODES:n,DEPENDENCY_CHANGE_ACTIONS:a,DEPENDENCY_CHANGE_ACTION_DURATION:s,ERROR_MODES:l,ERROR_OUTPUT_MODES:_,PROGRESS_MODES:g,VALIDATION_PHASES:v},j={_number:function(e,t){var n;if(e=e.replace(/\s/g,""),"+"===e[0]&&(e=e.slice(1)),"."===e[0]?e="0"+e:"-"===e[0]&&"."===e[1]&&(e="-0."+e.slice(2)),e.indexOf(".")>=0){for(;"0"===e[e.length-1];)e=e.slice(0,-1);"."===e[e.length-1]&&(e=e.slice(0,-1))}return n=parseFloat(e),isNaN(n)||!isFinite(n)||e!==""+n?{error_message_type:"number",_number:n,_string:e}:{valid:!0,_number:n,_string:e}},_text:function(e,t){return e.length>0},email:function(e,t){var n;return e.indexOf("@")<0?{error_message_type:"email_at"}:(n=e.split("@"),n.length>2?{error_message_type:"email_many_at"}:2===n.length&&""!==n[0]&&""!==n[1]?e.indexOf(".",e.indexOf("@"))<0||"."===e[e.length-1]?{error_message_type:"email_dot"}:!0:{error_message_type:"email"})},integer:function(e,t){var n,r;return r=this._number(e,t),r.valid===!0?r._number===Math.floor(r._number)?!0:{error_message_type:"integer_float"}:(e=r._string,n=Math.floor(r._number),isNaN(n)||!isFinite(n)||e!==""+n?{error_message_type:"integer"}:(r.error_message_type=r.error_message_type.replace("number_","integer_"),r))},number:function(e,t){var n;return n=this._number(e,t),n.valid===!0?!0:n},phone:function(e,t){for(e=e.replace(/[\s+\+\-\/\(\)]/g,"");"0"===e[0];)e=e.slice(1);return e!==""+parseInt(e,10)?{error_message_type:"phone"}:!0},text:function(e,t){return e.length>0},radio:function(t,n){return e("[name='"+n.attr("name")+"']:checked").length>0},checkbox:function(e,t){return t.prop("checked")===!0},select:function(e,t){return this.text(t.val())}},b={blacklist:function(e,t){var n,r,i;for(r=0,i=e.length;i>r;r++)if(n=e[r],t.indexOf(n)>=0)return!1;return!0},max:function(e,t,n){return"false"===(null!=n?n.include_max:void 0)?t>e:t>=e},max_length:function(e,t){return e.length<=t},min:function(e,t,n){return"false"===(null!=n?n.include_min:void 0)?e>t:e>=t},min_length:function(e,t){return e.length>=t},regex:function(e,t,n){return t instanceof RegExp||(t=new RegExp(t,n.flags)),t.test(e)},whitelist:function(e,t){var n,r,i;for(r=0,i=t.length;i>r;r++)if(n=t[r],e.indexOf(n)<0)return!1;return!0}},y=[],N={include_max:!0,include_min:!0,enforce_max_length:!0,enforce_min_length:!0},D=function(e,t,n){return null!=t?N[e]instanceof Function?""+N[e](n)==""+t:""+N[e]==""+t:!1},w={de:{and:"und"},en:{and:"and"}},e.extend(w.de,{dependency_general:"Die Abhängigkeiten dieses Felds müssen zuerst korrekt ausgefüllt wurden",dependency_prefix:"Die Felder",dependency_suffix:"müssen noch korrekt ausgefüllt werden",dependency_singular_prefix:"Das Feld",dependency_singular_suffix:"muss noch korrekt ausgefüllt werden",value_email:"'{{value}}' muss die Form 'meine.adresse@anbieter.endung' haben",value_email_at:"'{{value}}' muss ein @-Zeichen enthalten",value_email_many_at:"'{{value}}' darf höchstens ein @-Zeichen enthalten",value_email_dot:"'{{value}}' muss eine korrekte Endung haben (z.B. '.de')",value_integer:"'{{value}}' muss eine Zahl sein",value_integer_float:"'{{value}}' darf keine Kommazahl sein",value_number:"'{{value}}' muss eine Zahl sein",value_phone:"'{{value}}' darf nur aus Zahlen, Leerzeichen und den Zeichen '+-/()' bestehen",value_radio:"Eins der Optionsfelder muss ausgewählt werden",value_checkbox:"Das Kontrollkästchen muss ausgewählt werden",value_select:"Es muss eine andere Option ausgewählt werden",value_text:"Das Textfeld muss ausgefüllt werden",constraint_enumerate_prefix:"'{{value}}'",constraint_list_prefix:"'{{value}}'",constraint_sentence_prefix:"'{{value}}'",constraint_blacklist_prefix:"darf",constraint_blacklist:"keines der Zeichen '{{blacklist}}'",constraint_blacklist_suffix:"enthalten",constraint_whitelist_prefix:"muss",constraint_whitelist:"jedes der Zeichen '{{whitelist}}'",constraint_whitelist_suffix:"enthalten",constraint_max_prefix:"darf",constraint_max:"nicht größer als oder gleich {{max}}",constraint_max_suffix:"sein",constraint_max_include_max_prefix:"darf",constraint_max_include_max:"nicht größer als {{max}}",constraint_max_include_max_suffix:"sein",constraint_max_length_prefix:"darf",constraint_max_length:"nicht länger als {{max_length}} Zeichen",constraint_max_length_suffix:"sein",constraint_max_length_enforce_max_length_prefix:"wurde",constraint_max_length_enforce_max_length:"auf {{max_length}} Zeichen",constraint_max_length_enforce_max_length_suffix:"gekürzt",constraint_min_prefix:"darf",constraint_min:"nicht kleiner als oder gleich {{min}}",constraint_min_suffix:"sein",constraint_min_include_min_prefix:"darf",constraint_min_include_min:"nicht kleiner als {{min}}",constraint_min_include_min_suffix:"sein",constraint_min_length_prefix:"darf",constraint_min_length:"nicht kürzer als {{min_length}} Zeichen",constraint_min_length_suffix:"sein",constraint_min_length_enforce_min_length_prefix:"wurde",constraint_min_length_enforce_min_length:"auf {{min_length}} Zeichen",constraint_min_length_enforce_min_length_suffix:"verlängert",constraint_regex_prefix:"muss",constraint_regex:"dem regulären Ausdruck '{{regex}}'",constraint_regex_suffix:"entsprechen"}),e.extend(w.en,{dependency_general:"This field's dependencies must be correctly filled in first",dependency_prefix:"The fields",dependency_suffix:"must be filled in correctly",dependency_singular_prefix:"The field",dependency_singular_suffix:"must be filled in correctly",value_email:"'{{value}}' address must be of the form 'my.address@provider.ending'",value_email_at:"'{{value}}' address must contain an @ symbol",value_email_many_at:"'{{value}}' address can only have one @ symbol",value_email_dot:"'{{value}}' must have a correct ending (i.e. '.com')",value_integer:"'{{value}}' must be an integer",value_integer_float:"'{{value}}' must not be a decimal",value_number:"'{{value}}' must be a number",value_phone:"'{{value}}' can only contain numbers, spaces, and the characters '+-/()'",value_radio:"One of the radio buttons must be selected",value_checkbox:"The checkbox must be selected",value_select:"Another option must be selected",value_text:"Please fill in this text field",constraint_enumerate_prefix:"'{{value}}'",constraint_list_prefix:"'{{value}}'",constraint_sentence_prefix:"'{{value}}'",constraint_blacklist_prefix:"must not",constraint_blacklist:"contain any of the characters '{{blacklist}}'",constraint_blacklist_suffix:"",constraint_whitelist_prefix:"must",constraint_whitelist:"contain all of the characters '{{whitelist}}'",constraint_whitelist_suffix:"",constraint_max_prefix:"must not",constraint_max:"be greater than or equal to {{max}}",constraint_max_suffix:"",constraint_max_include_max_prefix:"must not",constraint_max_include_max:"be greater than {{max}}",constraint_max_include_max_suffix:"",constraint_max_length_prefix:"must not",constraint_max_length:"be longer than {{max_length}} characters",constraint_max_length_suffix:"",constraint_max_length_enforce_max_length_prefix:"was",constraint_max_length_enforce_max_length:"shortened to {{max_length}} characters",constraint_max_length_enforce_max_length_suffix:"",constraint_min_prefix:"must not",constraint_min:"be less than or equal to {{min}}",constraint_min_suffix:"",constraint_min_include_min_prefix:"must not",constraint_min_include_min:"be less than {{min}}",constraint_min_include_min_suffix:"",constraint_min_length_prefix:"must not",constraint_min_length:"be shorter than {{min_length}} characters",constraint_min_length_suffix:"",constraint_min_length_enforce_min_length_prefix:"was",constraint_min_length_enforce_min_length:"extended to {{min_length}} characters",constraint_min_length_enforce_min_length_suffix:"",constraint_regex_prefix:"must",constraint_regex:"match the regular expression '{{regex}}'",constraint_regex_suffix:""}),R={de:{},en:{}},R.de[n.ENUMERATE]=null,R.de[n.SENTENCE]=null,R.de[n.LIST]=null,R.en[n.ENUMERATE]=null,R.en[n.SENTENCE]=null,R.en[n.LIST]=null,C={},L={},c=function(){function e(e,t,n){3===arguments.length?(this.func=n,e[t]=this):this.func=arguments[0]}return e.prototype.make=function(){return this.func.apply(this,arguments)},e}(),f=function(e){function t(e,n){t.__super__.constructor.call(this,L,e,n)}return V(t,e),t.prototype.create_data=function(e,t,n,r){return this.make(e,t,n,r)},t}(c),d=function(e){function t(e,n){t.__super__.constructor.call(this,C,e,n)}return V(t,e),t.prototype.build_message=function(e,t,n,r,i){return this.make(e,t,n,r,i)},t}(c),p=function(){function e(){this._dict={},this._order=[]}return e.prototype.put=function(e,t,n){var r;return this._dict[e]=t,null==n?Z.call(this._order,e)<0&&this._order.push(e):(r=this._order.indexOf(e),r>=0&&this._order.splice(r,1),this._order.splice(n,0,e)),this},e.prototype.get=function(e){return this._dict[e]},e.prototype.remove=function(e){var t;return delete this._dict[e],this._order=function(){var n,r,i,a;for(i=this._order,a=[],n=0,r=i.length;r>n;n++)t=i[n],t!==e&&a.push(t);return a}.call(this),this},e.prototype.join=function(e){var t;return null==e&&(e=""),function(){var n,r,i,a,s;for(a=this._order,s=[],r=0,i=a.length;i>r;r++)t=a[r],s.push(("function"==typeof(n=this._dict[t]).join?n.join(e):void 0)||this._dict[t]);return s}.call(this).join(e)},e.prototype.each=function(e){var t,n,r,i,a;for(a=this._order,t=r=0,i=a.length;i>r;t=++r)if(n=a[t],e.call(this,n,this._dict[n],t)===!1)return this;return this},e.prototype.to_array=function(){var e;return function(){var t,n,r,i;for(r=this._order,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(this._dict[e]);return i}.call(this)},e.prototype.to_object=function(){var e,t,n,r;n={},t=this._dict;for(e in t)r=t[e],n[e]=r;return n},e.prototype.get_object=function(){return this._dict},e.prototype.get_order=function(){return this._order},e}(),P=function(){var t,n,r,i,a,s;if(n=arguments[0],s=2<=arguments.length?B.call(arguments,1):[],s=1===s.length?s[0]:e.extend.apply(e,s),"string"==typeof n){for(t in s)a=s[t],i="{{"+t+"}}",n.indexOf(i)>=0&&(r=new RegExp(i,"g"),n=n.replace(r,a));return n}if(n instanceof Function)return n(s);throw new Error("FormValidator: Error while building an error message. Expected mustache-like string or function but was given:",n,s)},new f(v.DEPENDENCIES,function(e,t,n,r){var i,a,s,o,l,_,u,c;return l=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)i=e[t],null!=i.name&&r.push(i.name);return r}(),l.length===e.length?(s=w[r],a=x[t].toLowerCase(),1===l.length&&(a+="_singular"),u=a+"_prefix",c=a+"_suffix",_=function(){var e,t,n;for(n=[],e=0,t=l.length;t>e;e++)o=l[e],n.push({message:"'"+o+"'",prefix:s[u],suffix:s[c]});return n}()):(a=x[t].toLowerCase()+"_general",_=[]),{parts:_}}),new f(v.VALUE,function(e,t,n,r){var i,a,s;return i=e[0],a=x[t].toLowerCase()+"_"+(i.error_message_type||i.type),s={message:P(w[r][a],i),prefix:"",suffix:""},{key:a,parts:[s]}}),new f(v.CONSTRAINTS,function(t,n,r,i){var a,s,o,l,_,u,c,d,f,h,p,g,m,v,E,N,b,O,A,S,R,k,C,L,I,U,q,F,M;for(R=[],c=[],F=[],g=0,m=t.length;m>g;g++){for(o=t[g],_=!1,d=O=0,v=y.length;v>O;d=++O)u=y[d],I=o.type,Z.call(u,I)>=0&&(_=!0,null!=c[d]?c[d].push(o):c[d]=[o]);_||F.push(o)}for(A=0,E=F.length;E>A;A++)o=F[A],c.push([o]);for(k=x[n].toLowerCase(),h=k+"_",a=w[i][(k+"_"+r+"_prefix").toLowerCase()]||"",s=w[i][(k+"_"+r+"_suffix").toLowerCase()]||"",L=0,N=c.length;N>L;L++)if(t=c[L],null!=t){for(p=[],q=0,b=t.length;b>q;q++)if(o=t[q],p.push(o.type),null!=o.options){U=o.options;for(S in U)M=U[S],D(S,M,i)&&p.push(S)}f=T(p,i,h),null!=f&&R.push({message:P.apply(null,[w[i][f]].concat(B.call(t))),prefix:P(w[i][f+"_prefix"],o)||a,suffix:P(w[i][f+"_suffix"],o)||s})}return f=k+"_"+r.toLowerCase(),C=P(""+w[i][f+"_prefix"],t[0]),l=e.extend.apply(e,[{}].concat(t)),{key:f,parts:R,error_data:l,prefix:C}}),k=new c(function(e,t,n,r,i,a,s,o){var l,_,u,c,d,f,h,g,m,v,x,E;for(null==s&&(s=" "),null==o&&(o=" "),c=e.key,x=e.parts,_=null!=(E=e.error_data)?E:{},i=i||e.prefix||w[r][c+"_prefix"]||"",a=a||e.suffix||w[r][c+"_suffix"]||"",e.prefix=("function"==typeof i?i():void 0)||i,e.suffix=("function"==typeof a?a():void 0)||a,u=d=0,f=x.length;f>d;u=++d)v=x[u],l=new p,v.prefix&&(l.put("prefix",v.prefix),l.put("prefix_delimiter",v.prefix_delimiter||s)),l.put("message",v.message),v.suffix&&(l.put("suffix_delimiter",v.suffix_delimiter||o),l.put("suffix",v.suffix)),x[u]=l;for(m=new p,u=g=0,h=x.length;h>g;u=++g)v=x[u],m.put(u,v);return e.parts=m,e}),new d(n.ENUMERATE,function(e,t,n,r){var i,a,s,o,l,_,u,c,d,f,h,g,m,v,x,E,y,N;e=k.make(e,t,n,r),g=e.parts.to_array(),s=w[r],v=S(g,function(e){return e.get("suffix")||""}),g=[];for(y in v){N=v[y],m=S(N,function(e){return e.get("prefix")||""});for(x in m)for(E=m[x],i=a=0,o=E.length;o>a;i=++a)f=E[i],i>0&&(f.remove("prefix"),f.remove("prefix_delimiter"));for(i=u=0,l=N.length;l>u;i=++u)f=N[i],i<N.length-1&&(f.remove("suffix_delimiter"),f.remove("suffix"));g=g.concat(N)}for(c=new p,i=d=0,_=g.length;_>d;i=++d)h=g[i],i===g.length-1&&i>0&&(h.put("prefix"," "+w[r].and+" "+(h.get("prefix")||""),0),h.put("prefix_delimiter"," ",1)),c.put(i,h);return e.parts=c,((e.prefix||"")+" "+c.join("")+" "+(e.suffix||"")).replace(/\s+/g," ")}),new d(n.SENTENCE,function(e,t,n,r){var i,a,s,o,l;for(e=k.make(e,t,n,r),e.parts.each(function(t,n){return n.put("prefix",(" "+(e.prefix||"")+" "+(n.get("prefix")||"")).trim(),0),n.put("prefix_delimiter"," ",1),n.put("suffix_delimiter",n.get("suffix")?n.get("suffix_delimiter"):"",3),n.put("suffix",(" "+(e.suffix||"")+" "+(n.get("suffix")||"")+".").trim(),4),!0}),o=[],l=e.parts.to_array(),i=0,a=l.length;a>i;i++)s=l[i],o.push(s.join());return o.join(" ").replace(/\s+/g," ").trim()}),new d(n.LIST,function(e,t,r,i){var a,s;return s=C[n.SENTENCE].build_message(e,t,r,i),"."===s[s.length-1]&&(s+=" "),"<ul><li>"+function(){var e,t,n,r;for(n=s.split(". "),r=[],e=0,t=n.length;t>e;e++)a=n[e],a&&r.push(a+".");return r}().join("</li><li>")+"</li></ul>"}),window.FormValidator=function(){function t(t,r,i){var s;null==i&&(i={}),s=this.constructor,this.form=t,this.fields=null,this.form_modifier=r,this.last_validation=null,this.error_classes=i.error_classes||this.form.attr("data-fv-error-classes")||"fv-invalid",this.success_classes=i.success_classes||this.form.attr("data-fv-success-classes")||"fv-valid",this.dependency_error_classes=i.dependency_error_classes||this.form.attr("data-fv-dependency-error-classes")||"fv-invalid-dependency",this.dependency_change_action=i.dependency_change_action||this.form.attr("data-fv-dependency-change-action")||a.DEFAULT,this.validators=e.extend({},s.validators,i.validators),this.validation_options=i.validation_options||null,this.constraint_validators=e.extend({},s.constraint_validators,i.constraint_validators),this.validator_call_context=e.extend({},this.validators,this.constraint_validators),this.build_mode=i.build_mode||n.DEFAULT,this.error_mode=null!=s.ERROR_MODES[i.error_mode]?i.error_mode:s.ERROR_MODES.DEFAULT,this.locale=i.locale||"en",this.error_target_getter=i.error_target_getter||null,this.dependency_action_target_getter=i.dependency_action_target_getter||null,this.field_getter=i.field_getter||null,this.required_field_getter=i.required_field_getter||null,this.preprocessors=e.extend(s.default_preprocessors,i.preprocessors||{}),this.postprocessors=i.postprocessors||{},this.group=i.group||null,this.process_errors=i.process_errors||null,this._field_order=null}var s,l;for(l in u)s=u[l],t[l]=s;return"undefined"!=typeof Sequence?t._sequence_class=Sequence:t._sequence_class=null,t.constraint_validators=b,t.validators=j,t.dependency_change_actions=dependency_change_actions,t.locales=w,t.default_preprocessors={number:function(e,t,n){switch(n){case"de":return e.replace(/\,/g,".");default:return e}},integer:function(e,t,n){switch(n){case"de":return e.replace(/\,/g,".");default:return e}}},t.configure=function(e){return e({constraint_validator_groups:y,constraint_validator_options_in_locale_key:N,constraint_validator_options:constraint_validator_options,locale_message_builders:R,message_builders:C,message_data_creators:L}),this},t.set_sequence_class=function(e){return this._sequence_class=e,this},t.get_error_message_type=function(e,t){var n;return t===this.ERROR_MODES.SIMPLE?n=e.split("_")[0]:e},t._build_error_message=function(e,t,n,r){var i;return i=L[e].create_data(t,e,n,r),C[n].build_message(i,e,n,r)},t._get_error_message_for_element=function(e,t,n,r,i){var a,s,l,_,u,c,d;null==i&&(i=" "),s=[],l={};for(c in v)l[c]=function(){var e,n,r;for(r=[],e=0,n=t.length;n>e;e++)a=t[e],a.phase===c&&r.push(a);return r}();for(d=o.PHASE_ORDER,_=0,u=d.length;u>_;_++)c=d[_],l[c].length>0&&s.push(this._build_error_message(c,l[c],n,r));return s.join(i)},t["new"]=function(e,t){var n,r;return r=new this(e,null,t),n=new FormModifier(r,t),r.form_modifier=n,r},t.new_without_modifier=function(e,t){return new this(e,null,t)},t.prototype._get_fields=function(t){return("function"==typeof this.field_getter?this.field_getter(t):void 0)||t.find("[data-fv-validate]").filter(function(t,n){return 0===e(n).closest("[data-fv-ignore-children]").length})},t.prototype._get_required=function(e){return("function"==typeof this.required_field_getter?this.required_field_getter(e):void 0)||e.not("[data-fv-optional='true']")},t.prototype._get_attribute_value_for_key=function(e,t){var n,r,a,s,o,l,_,u;return o="data-fv-",_={type:"validate",required:"optional"},r=["preprocess","required"],n=null==_[t]?o+t.replace(/\_/g,"-"):o+_[t],u=e.attr(n),a=null!=u,a?u=u.trim():(l=s=t.toUpperCase(),Z.call(Object.keys(i),l)>=0&&(u=i[s])),Z.call(r,t)>=0&&(u="true"===u||u===!0),"required"===t&&a&&(u=!u),u},t.prototype._set_element_data=function(t,n){return e.data(t[0],"_fv",n),this},t.prototype._get_element_data=function(t){return e.data(t[0],"_fv")},t.prototype._cache_attribute=function(e,t,n,r){return null==r?r=e.attr("data-fv-"+n.replace(/\_/g,"-")):r instanceof Function&&(r=r.call(this)),null==r&&(r=i[n.toUpperCase()]),t[n]=r,t},t.prototype._get_value=function(e,t){var n,r,i,a;return r=t.type,i=!0,"checkbox"===r||"radio"===r?(a=e.prop("checked")===!0?"checked":"unchecked",n="checkbox"):"select"===r?(a=e.children(":selected").val(),n="val"):(a=e.val(),n="val"),null==a&&(i=!1,a=e.text(),n="text"),{method:n,value:a}},t.prototype._set_value=function(e,t,n,r){return"checkbox"===n?e.prop("checked","checked"===r):"val"===n?e.val(r):e.text(r),this},t.prototype._get_value_info=function(e,t){var n,r,i,a,s,o;return a=t.type,r=t.preprocess,i=this._get_value(e,t),n=i.method,s=i.value,o=s!==t.value,t.value=s,null!=this.preprocessors[a]&&r!==!1&&(s=this.preprocessors[a].call(this.preprocessors,s,e,this.locale)),{method:n,value:s,value_has_changed:o}},t.prototype._find_targets=function(e,t,n){var r;return null==n&&(n=/\s*\;\s*/g),"string"==typeof e?function(){var i,a,s,o;for(s=e.split(n),o=[],i=0,a=s.length;a>i;i++)r=s[i],r.trim()&&o.push(this._find_target(r,t));return o}.call(this):e||[]},t.prototype._find_target=function(t,n){var r;return"self"===t?n:(r=this.form.find("[data-fv-name='"+t+"']"),0===r.length&&(r=n.closest(t)),0===r.length&&(r=this.form.find(t)),0===r.length&&(r=e(t)),r)},t.prototype._get_error_targets=function(e,t){var n;return n=("function"==typeof this.error_target_getter?this.error_target_getter(e,t):void 0)||e.attr("data-fv-error-targets")||e.closest("[data-fv-error-targets]").attr("data-fv-error-targets")||i.ERROR_TARGETS,this._find_targets(n,e)},t.prototype._get_dependency_action_targets=function(e,t){var n;return n=("function"==typeof this.dependency_action_target_getter?this.dependency_action_target_getter(e,t):void 0)||e.attr("data-fv-dependency-action-targets")||e.closest("[data-fv-dependency-action-targets]").attr("data-fv-dependency-action-targets")||i.DEPENDENCY_ACTION_TARGETS,this._find_targets(n,e)},t.prototype._group=function(e){var t,n,r,i,a,s,o,_;for(n={},s=o=0,_=e.length;_>=0?_>o:o>_;s=_>=0?++o:--o)r=e.eq(s),t=this._get_element_data(r),null==t.group&&(t.group=r.attr("data-fv-group")||r.attr("name")||"",this._set_element_data(r,t)),a=t.group,null==n[a]?n[a]=[r]:n[a].push(r);return function(){var e;e=[];for(l in n)i=n[l],e.push(i);return e}()},t.prototype._group_errors=function(e,t){var n,r,i,a,s,o,l,_,u,c,d,f,h,p;for(n=this.constructor,p=[],s=this.fields.all,l=_=0,f=s.length;f>=0?f>_:_>f;l=f>=0?++_:--_){r=s.eq(l),i=function(){var t,n,i;for(i=[],n=0,t=e.length;t>n;n++)a=e[n],a.element.is(r)&&i.push(a);return i}(),o=S(i,function(e){return e.phase});for(c in v)if((null!=(h=d=o[c])?h.length:void 0)>0){i=d;break}i.length>0&&(u=t.messages===!0?n._get_error_message_for_element(r,i,this.build_mode,this.locale):"",p.push({element:r,errors:i,message:u}))}return p},t.prototype._validate_value=function(e,t,n){var r,i,a,s;if(r=t.type,s=n.value,a=this.validators[r],null==a)throw new Error("FormValidator::_validate_value: No validator found for type '"+r+"'. Make sure the type is correct or define an according validator!");return i=a.call(this.validator_call_context,s,e),i===!1?i={error_message_type:r}:"string"==typeof i&&(i={error_message_type:i}),i!==!0&&(i.error_message_type=this.constructor.get_error_message_type(i.error_message_type,this.error_mode)),i},t.prototype._validate_dependencies=function(e,t,n){var r,i,a,s,o,l,_,u,c;for(o=[],s=t.depends_on,l=_=0,u=s.length;u>_;l=++_)i=s[l],r=this._get_element_data(i),a=this._validate_element(i,r,this._get_value_info(i,r),n),a.length>0&&o.push({dependency_element:i,element:e,index:l,type:r.type,name:r.name});return null==t.dependency_mode&&(this._cache_attribute(e,t,"dependency_mode"),this._set_element_data(e,t)),c="any"===t.dependency_mode?o.length<s.length:0===o.length,{dependency_errors:o,dependency_elements:s,valid_dependencies:c,dependency_mode:t.dependency_mode}},t.prototype._validate_constraints=function(e,t,n){var a,s,o,l,_,u,c,d,f,h,p,g,m,v,x,E;if(E={},null!=t.constraints)c=t.constraints;else{a=this.constructor,c=[],v=this.constraint_validators;for(o in v)if(l=v[o],null!=(u=this._get_attribute_value_for_key(e,o))){if(null!=(_=r[o]))for(m={},d=0,f=_.length;f>d;d++)g=_[d],m[g]=this._get_attribute_value_for_key(e,g)||i[g.toUpperCase()];else m=null;c.push({name:o,options:m,validator:l,value:u})}t.constraints=c,this._set_element_data(e,t)}for(p=0,h=c.length;h>p;p++)s=c[p],s.validator.call(this.validator_call_context,n,s.value,s.options)===!0?E[s.name]=!0:(x={},x.options=s.options,x[s.name]=s.value,E[s.name]=x);return E},t.prototype._validate_element=function(t,n,r,i){var a,s,o,l,_,u,c,d,f,h,p,g,m,x,E,y,N,b,T,O,A,S,D,R,w;if(n.last_validation===this.last_validation)return n.errors[v.DEPENDENCIES].concat(n.errors[v.VALUE],n.errors[v.CONSTRAINTS]);if(c=[],E=!0,d=n.required,A=n.type,R=r.value,w=r.value_has_changed,m=r.method,x=v.DEPENDENCIES,y=this._validate_dependencies(t,n,i),l=y.dependency_errors,s=y.dependency_elements,_=y.dependency_mode,S=y.valid_dependencies,S)n.errors[x]=[];else{for(E=!1,f=0,h=l.length;h>f;f++)o=l[f],e.extend(o,{element:t,required:d,type:"dependency",phase:x,mode:_});n.errors[x]=l}if(n.dependency_changed=S!==n.valid_dependencies,n.valid_dependencies=S,c=c.concat(n.errors[x]),x=v.VALUE,!E&&i.stop_on_error||(w||n.dependency_changed&&n.valid_dependencies&&0===n.errors[x].length?(D=this._validate_value(t,n,r),D!==!0?(E=!1,n.valid_value=!1,n.errors[x]=[{element:t,error_message_type:D.error_message_type,phase:x,required:d,type:A,value:R}]):(n.valid_value=!0,n.errors[x]=[])):w||!E&&i.stop_on_error||n.valid_value!==!0&&(E=!1)),c=c.concat(n.errors[x]),x=v.CONSTRAINTS,w){if(E||!i.stop_on_error){n.valid_constraints=!0,O=[],N=this._validate_constraints(t,n,R);for(a in N)T=N[a],T!==!0&&(n.valid_constraints=!1,E=!1,O.push(e.extend(T,{element:t,required:d,type:a,phase:x,value:R})));n.errors[x]=O}}else!E&&i.stop_on_error||n.valid_constraints!==!0&&(E=!1);if(c=c.concat(n.errors[x]),n.valid_dependencies&&n.valid_value&&n.valid_constraints){if(n.valid===!0&&null!=n.postprocess&&null!=n.output_preprocessed||(n.valid=!0,this._cache_attribute(t,n,"postprocess"),this._cache_attribute(t,n,"output_preprocessed")),n.postprocess===!0||n.output_preprocessed===!0)for(n.postprocess===!0?R=null!=(b=this.postprocessors[A])?b.call(this.postprocessors,R,t,this.locale):void 0:n.output_preprocessed===!0&&null!=this.preprocessors[A]&&(R=this.preprocessors[A].call(this.preprocessors,R,t,this.locale)),this._set_value(t,n,m,R),g=0,p=c.length;p>g;g++)u=c[g],u.value=R}else n.valid!==!1&&(n.valid=!1);return null==n.dependency_action_targets&&(this._cache_attribute(t,n,"dependency_action_targets",function(){return this._get_dependency_action_targets(t,A)}),this._cache_attribute(t,n,"dependency_action_duration"),n.dependency_action_duration=parseInt(n.dependency_action_duration,10)),i.apply_error_classes===!0&&null==n.error_targets&&this._cache_attribute(t,n,"error_targets",function(){return this._get_error_targets(t,A)}),n.last_validation=this.last_validation,this._set_element_data(t,n),c},t.prototype.cache=function(){var e,t,n,r,i,a,s,o,l,_,u,c,d,f,p;for(i=this._get_fields(this.form),n={},o={},a=_=0,p=i.length;p>=0?p>_:_>p;a=p>=0?++_:--_){for(r=i.eq(a),e={},d=0,u=m.length;u>d;d++)l=m[d],e[l]=this._get_attribute_value_for_key(r,l);for(e.depends_on=this._find_targets(e.depends_on,r,/^\s*\;\s*$/g),e.id=a,null==e.dependency_change_action&&(e.dependency_change_action=this.dependency_change_action),f=0,c=h.length;c>f;f++)l=h[f],e[l]=null;e.errors={},e.errors[v.DEPENDENCIES]=[],e.errors[v.VALUE]=[],e.errors[v.CONSTRAINTS]=[],this._set_element_data(r,e),o[e.id]=r,n[e.id]=function(){var n,r,i,a;for(i=e.depends_on,a=[],r=0,n=i.length;n>r;r++)t=i[r],a.push(this._get_element_data(t).id);return a}.call(this)}return this.fields={all:i,required:this._get_required(i),ordered:function(){var e,t,r,i;for(r=M(n),i=[],t=0,e=r.length;e>t;t++)s=r[t],i.push(o[s]);return i}()},this},t.prototype.validate=function(t){var n,r,i,a,s,o,_,u,c,d,f,h,p,g,m;for(null==t&&(t={}),i={all:!1,apply_error_classes:!0,focus_invalid:!0,messages:!0,stop_on_error:!0,recache:!1},t=e.extend(i,this.validation_options,t),null!=this.fields&&t.recache!==!0||this.cache(),this.last_validation=Date.now(),n=this.constructor,o=[],g=!1,_=this.fields.ordered,d=0,f=_.length;f>d;d++)a=_[d],r=this._get_element_data(a),c=r.required,p=r.type,l=r.name,m=this._get_value_info(a,r),t.all!==!1||c||0!==m.value.length&&"radio"!==p&&"checkbox"!==p?(s=this._validate_element(a,r,m,t),s.length>0&&(o=o.concat(s))):null==r.error_targets&&(r=this._cache_attribute(a,r,"error_targets",function(){return this._get_error_targets(a,p)}),this._set_element_data(a,r));return u=this._group_errors(o,t),"function"==typeof this.process_errors&&this.process_errors(u),t.modify!==!1&&null!=(h=this.form_modifier)&&h.modify(u,t),u},t.prototype.get_progress=function(t){var n,r,i,a,s,o,l,_,u,c,d,f,h,p,m,v,x,E,y,N,b,T,O;for(null==t&&(t={mode:g.DEFAULT,recache:!1}),null!=this.fields&&t.recache!==!0||this.cache(),a=this.fields.all,o=("function"==typeof this.group?this.group(a):void 0)||this._group(a),T=[],i=this.validate({all:!0,messages:!1,modify:!1,recache:!1,stop_on_error:!0}),p=t.mode,l=u=0,c=o.length;c>u;l=++u){for(s=o[l],x=0,v=0,y=0,E=0,_=h=0,d=s.length;d>h;_=++h)r=s[_],r instanceof jQuery||(r=("function"==typeof s.eq?s.eq(_):void 0)||e(r)),n=this._get_element_data(r),n.required===!0?(x++,n.valid===!0&&y++):(v++,n.valid===!0&&E++);x>0?p===g.PERCENTAGE?T.push(y/x):p===g.ABSOLUTE&&T.push({count:y,total:x}):v>0?E>0?p===g.PERCENTAGE?T.push(1):p===g.ABSOLUTE&&T.push({count:v,total:v}):p===g.PERCENTAGE?T.push(0):p===g.ABSOLUTE&&T.push({count:0,total:v}):T.push(null)}for(O=0,m=0,N=0,f=T.length;f>N;N++)b=T[N],null!=b&&(O+=b,m++);return T.average=O/m,T},t}(),e(document).ready(function(){return e(document).on("click","[data-fv-start]",function(){var t,n,r,i,a,s,o;if(t=e(this),null==(n=t.data("_form_validator_container"))&&(n=t.closest(t.attr("data-fv-start")),0===n.length&&(n=e(t.attr("data-fv-start"))),t.data("_form_validator_container",n)),null==(s=n.data("_form_validator"))){if(o=t.attr("data-fv-start-options"),null!=o)try{o=JSON.parse(o)}catch(i){r=i;try{o=window[o]()}catch(a){r=a,o={}}}s=FormValidator["new"](n,o),n.data("_form_validator",s)}return s.validate(),!1}),e(document).on("change keyup","[data-fv-real-time] [data-fv-validate]",function(t){var n,r,i,a,s,o;return n=e(this),o=(null!=(s=n.attr("type"))?s.toLowerCase():void 0)||"",a=1===n.filter("textarea").length||n.filter("input").length&&("button"===o||"checkbox"===o||"color"===o||"file"===o||"image"===o||"radio"===o||"range"===o||"submit"===o),
"change"===t.type&&a?!0:(r=n.closest("[data-fv-real-time]"),1===r.length&&(null==(i=r.data("_form_validator"))&&(i=FormValidator["new"](r),r.data("_form_validator",i)),i.validate({focus_invalid:!1})),!1)}),!0})}(jQuery);